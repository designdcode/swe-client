(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[27],{116:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return g}));var a,r,c,d,i,l=n(96),o=n(418),s=Object(o.a)(a||(a=Object(l.a)(["\n  query getBoardById($id: Int!) {\n    getBoardById(id: $id) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),b=Object(o.a)(r||(r=Object(l.a)(["\n  query getLinks {\n    getLinks {\n      ok\n      err\n      data {\n        id\n        url\n        title\n        createdAt\n      }\n    }\n  }\n"]))),j=Object(o.a)(c||(c=Object(l.a)(["\n  query getBoard {\n    getBoard {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),u=Object(o.a)(d||(d=Object(l.a)(["\n  mutation UserLogin($id: String!, $pwd: String!) {\n    UserLogin(id: $id, pwd: $pwd) {\n      success\n      error\n      data {\n        id\n        stno\n      }\n    }\n  }\n"]))),g=Object(o.a)(i||(i=Object(l.a)(["\n  query getBoardByMonth($category: String!) {\n    getBoardByMonth(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"])))},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=new Date(1e3*Math.floor(parseInt(e,10)/1e3));return t.getFullYear()+"-"+(t.getMonth()+1>=10?t.getMonth()+1:"0".concat(t.getMonth()+1))+"-"+(t.getDate()>=10?t.getDate():"0".concat(t.getDate()))}},425:function(e,t,n){"use strict";n.r(t);var a,r,c,d=n(89),i=n(2),l=n(142),o=n.n(l),s=n(4),b=n(197),j=n(405),u=n(116),g=n(224),h=n(417),p=n(96),O=n(102),y=n(174),m=(O.a.div(a||(a=Object(p.a)(["\n  background-image: url(",");\n  width: 100%;\n  height: 300px;\n  background-size: contain;\n"])),(function(e){return e.url})),O.a.div(r||(r=Object(p.a)(["\n  & .button-group {\n    display: flex;\n    align-items: center;\n  }\n"])))),f=Object(O.a)(y.a)(c||(c=Object(p.a)(["\n  margin: 15px 0;\n  margin-right: 15px;\n"]))),B=n(108),x=n(44),v=n(45),I=n(118),k=n(11);t.default=function(){var e=Object(s.h)().search,t=Object(s.i)().param,n=Object(s.g)(),a=o.a.parse(e),r=a.id,c=a.category,l=Object(i.useState)(),p=Object(d.a)(l,2),O=p[0],y=p[1],w=Object(i.useState)(),S=Object(d.a)(w,2),A=S[0],$=S[1],M=Object(i.useState)(),D=Object(d.a)(M,2),F=D[0],q=D[1],C=Object(b.a)(u.b,{variables:{id:parseInt(r,10)}}),L=C.data,N=C.loading,z=Object(j.a)(B.d,{onCompleted:function(e){var a=e.deleteBoard,r=a.ok,d=a.err;r?(x.b.success("\uac8c\uc2dc\ubb3c\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),n.push({pathname:"/admin/".concat(t,"/").concat(c),state:{refresh:!0}})):(console.log(d),x.b.error("\uac8c\uc2dc\ubb3c\uc744 \uc0ad\uc81c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"))}}),J=Object(d.a)(z,1)[0],T=Object(i.useCallback)((function(){J({variables:{id:parseInt(r,10)}})}),[r,J]);return Object(i.useEffect)((function(){L&&L.getBoardById&&L.getBoardById.data&&y(L.getBoardById.data),L&&L.getBoardById&&L.getBoardById.data&&L.getBoardById.data.files&&$(L.getBoardById.data.files),L&&L.getBoardById&&L.getBoardById.data&&L.getBoardById.data.images&&q(L.getBoardById.data.images)}),[L]),N?Object(k.jsx)(k.Fragment,{children:"loading"}):Object(k.jsxs)(m,{children:[Object(k.jsx)(f,{type:"ghost",onClick:function(){return n.goBack()},children:"\ub4a4\ub85c"}),Object(k.jsxs)(g.b,{bordered:!0,layout:"horizontal",style:{display:"flex",flexDirection:"column"},children:[Object(k.jsx)(g.b.Item,{label:"\uc81c\ubaa9",span:3,labelStyle:{width:100},children:Object(k.jsx)(h.a.Title,{level:3,children:null===O||void 0===O?void 0:O.title})},"title"),Object(k.jsx)(g.b.Item,{label:"\uc0c1\ud0dc",span:3,labelStyle:{width:100},children:Object(k.jsx)(h.a.Text,{type:null!==O&&void 0!==O&&O.private?"success":"danger",children:null!==O&&void 0!==O&&O.private?"\uacf5\uac1c":"\ube44\uacf5\uac1c"})},"status"),Object(k.jsx)(g.b.Item,{label:"\uc791\uc131\uc77c",span:3,labelStyle:{width:100},children:Object(I.a)((null===O||void 0===O?void 0:O.createdAt)||"")},"date"),Object(k.jsx)(g.b.Item,{label:"\ud30c\uc77c",span:3,labelStyle:{width:100},children:A&&0!==A.length?Object(k.jsx)(k.Fragment,{children:A.map((function(e,t){return Object(k.jsx)("span",{style:{display:"inline-block"},children:Object(k.jsx)("a",{href:null===e||void 0===e?void 0:e.url,download:!0,target:"_blank",rel:"noreferrer",children:null===e||void 0===e?void 0:e.fileName})},t)}))}):Object(k.jsx)(k.Fragment,{children:"\ucca8\ubd80\ud30c\uc77c \uc5c6\uc74c"})},"file"),"achievement"===t&&Object(k.jsx)(g.b.Item,{label:"\uc774\ubbf8\uc9c0",span:4,labelStyle:{width:100},children:F&&0!==F.length?Object(k.jsx)("img",{src:F[F.length-1].url,alt:"newsimage",width:300}):Object(k.jsx)(k.Fragment,{children:"\uc774\ubbf8\uc9c0 \uc5c6\uc74c"})},"image"),Object(k.jsx)(g.b.Item,{label:"\ub0b4\uc6a9",span:4,children:Object(k.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:null===O||void 0===O?void 0:O.content})},"content")]}),Object(k.jsxs)("div",{className:"button-group",children:[Object(k.jsx)(v.b,{to:"/admin/".concat(t,"/edit-").concat(t,"?category=").concat(c,"&id=").concat(r),children:Object(k.jsx)(f,{type:"primary",children:"\uc218\uc815"})}),Object(k.jsx)(f,{type:"primary",danger:!0,onClick:T,children:"\uc0ad\uc81c"})]})]})}}}]);
//# sourceMappingURL=27.4b0a7c6c.chunk.js.map