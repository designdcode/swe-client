(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[15],{102:function(t,n,e){"use strict";e.d(n,"a",(function(){return v})),e.d(n,"l",(function(){return k})),e.d(n,"e",(function(){return S})),e.d(n,"j",(function(){return I})),e.d(n,"f",(function(){return x})),e.d(n,"g",(function(){return w})),e.d(n,"b",(function(){return B})),e.d(n,"c",(function(){return A})),e.d(n,"h",(function(){return N})),e.d(n,"k",(function(){return E})),e.d(n,"d",(function(){return _})),e.d(n,"i",(function(){return C}));var r,i,a,o,c,d,u,l,s,b,f,g,p,j,O,m,y,h=e(93),$=e(478),v=Object($.a)(r||(r=Object(h.a)(["\n  mutation createBoard(\n    $title: String\n    $content: String\n    $category: String!\n    $files: [AttachModel]\n    $images: [AttachModel]\n    $link: String\n    $type: String\n    $private: Boolean\n    $writer: String\n  ) {\n    createBoard(\n      title: $title\n      content: $content\n      category: $category\n      files: $files\n      images: $images\n      link: $link\n      type: $type\n      private: $private\n      writer: $writer\n    ) {\n      ok\n      err\n    }\n  }\n"]))),k=Object($.a)(i||(i=Object(h.a)(["\n  query getBoardByCategory($category: String!) {\n    getBoardByCategory(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        writer\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),S=Object($.a)(a||(a=Object(h.a)(["\n  mutation deleteBoard($id: Int!) {\n    deleteBoard(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),I=Object($.a)(o||(o=Object(h.a)(["\n  mutation editBoard(\n    $id: Int!\n    $title: String\n    $content: String\n    $link: String\n    $private: Boolean\n    $type: String\n  ) {\n    editBoard(\n      id: $id\n      title: $title\n      content: $content\n      link: $link\n      private: $private\n      type: $type\n    ) {\n      ok\n      err\n    }\n  }\n"]))),x=(Object($.a)(c||(c=Object(h.a)(["\n  mutation editFile($id: Int!, $url: String!, $fileName: String!) {\n    editFile(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object($.a)(d||(d=Object(h.a)(["\n  mutation editImage($id: Int!, $url: String!, $fileName: String!) {\n    editImage(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object($.a)(u||(u=Object(h.a)(["\n  mutation deleteFile($id: Int!) {\n    deleteFile(id: $id) {\n      ok\n      err\n    }\n  }\n"])))),w=Object($.a)(l||(l=Object(h.a)(["\n  mutation deleteImage($id: Int!) {\n    deleteImage(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),B=Object($.a)(s||(s=Object(h.a)(["\n  mutation createFile($url: String!, $fileName: String!, $boardId: Int!) {\n    createFile(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),A=Object($.a)(b||(b=Object(h.a)(["\n  mutation createImage($url: String!, $fileName: String!, $boardId: Int!) {\n    createImage(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),N=(Object($.a)(f||(f=Object(h.a)(["\n  mutation createLink($title: String!, $url: String!) {\n    createLink(title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),Object($.a)(g||(g=Object(h.a)(["\n  mutation deleteLink($id: Int!) {\n    deleteLink(id: $id) {\n      ok\n      err\n    }\n  }\n"])))),E=(Object($.a)(p||(p=Object(h.a)(["\n  mutation editLink($id: Int!, $title: String, $url: String) {\n    editLink(id: $id, title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),Object($.a)(j||(j=Object(h.a)(["\n  mutation editPopup($up: String!, $url: String) {\n    editPopup(up: $up, url: $url) {\n      ok\n      err\n    }\n  }\n"])))),_=Object($.a)(O||(O=Object(h.a)(["\n  mutation createReply($boardId: Int!, $content: String!) {\n    createReply(boardId: $boardId, content: $content) {\n      ok\n      err\n    }\n  }\n"]))),C=(Object($.a)(m||(m=Object(h.a)(["\n  mutation editReply($replyId: Int!, $content: String) {\n    editReply(replyId: $replyId, content: $content) {\n      ok\n      err\n    }\n  }\n"]))),Object($.a)(y||(y=Object(h.a)(["\n  mutation deleteReply($replyId: Int!) {\n    deleteReply(replyId: $replyId) {\n      ok\n      err\n    }\n  }\n"]))))},106:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(1),i=e(2),a=e(55);function o(t){var n=Object(i.useContext)(Object(a.a)()),e=t||n.client;return __DEV__?Object(r.b)(!!e,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClientApolloClient instance in via options.'):Object(r.b)(!!e,29),e}},107:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return c}));var r,i=e(1);!function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"}(r||(r={}));var a=new Map;function o(t){var n;switch(t){case r.Query:n="Query";break;case r.Mutation:n="Mutation";break;case r.Subscription:n="Subscription"}return n}function c(t,n){var e=function(t){var n,e,o=a.get(t);if(o)return o;__DEV__?Object(i.b)(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):Object(i.b)(!!t&&!!t.kind,30);var c=t.definitions.filter((function(t){return"FragmentDefinition"===t.kind})),d=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"query"===t.operation})),u=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation})),l=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"subscription"===t.operation}));__DEV__?Object(i.b)(!c.length||d.length||u.length||l.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):Object(i.b)(!c.length||d.length||u.length||l.length,31),__DEV__?Object(i.b)(d.length+u.length+l.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(d.length," queries, ").concat(l.length," ")+"subscriptions and ".concat(u.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):Object(i.b)(d.length+u.length+l.length<=1,32),e=d.length?r.Query:r.Mutation,d.length||u.length||(e=r.Subscription);var s=d.length?d:u.length?u:l;__DEV__?Object(i.b)(1===s.length,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(s.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):Object(i.b)(1===s.length,33);var b=s[0];n=b.variableDefinitions||[];var f={name:b.name&&"Name"===b.name.kind?b.name.value:"data",type:e,variables:n};return a.set(t,f),f}(t),c=o(n),d=o(e.type);__DEV__?Object(i.b)(e.type===n,"Running a ".concat(c," requires a graphql ")+"".concat(c,", but a ").concat(d," was used instead.")):Object(i.b)(e.type===n,34)}},120:function(t,n,e){"use strict";e.d(n,"b",(function(){return g})),e.d(n,"d",(function(){return p})),e.d(n,"a",(function(){return j})),e.d(n,"g",(function(){return O})),e.d(n,"c",(function(){return m})),e.d(n,"e",(function(){return y})),e.d(n,"f",(function(){return h}));var r,i,a,o,c,d,u,l,s,b=e(93),f=e(478),g=Object(f.a)(r||(r=Object(b.a)(["\n  query getBoardById($id: Int!) {\n    getBoardById(id: $id) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        writer\n        showAttach\n        replies {\n          id\n          content\n        }\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),p=Object(f.a)(i||(i=Object(b.a)(["\n  query getLinks {\n    getLinks {\n      ok\n      err\n      data {\n        id\n        url\n        title\n        createdAt\n      }\n    }\n  }\n"]))),j=Object(f.a)(a||(a=Object(b.a)(["\n  query getBoard {\n    getBoard {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),O=Object(f.a)(o||(o=Object(b.a)(["\n  mutation UserLogin($id: String!, $pwd: String!) {\n    UserLogin(id: $id, pwd: $pwd) {\n      success\n      error\n      data {\n        id\n        stno\n      }\n    }\n  }\n"]))),m=Object(f.a)(c||(c=Object(b.a)(["\n  query getBoardByMonth($category: String!) {\n    getBoardByMonth(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),y=Object(f.a)(d||(d=Object(b.a)(["\n  query getPopupStatus {\n    getPopupStatus {\n      ok\n      err\n      data {\n        url\n        up\n      }\n    }\n  }\n"]))),h=Object(f.a)(u||(u=Object(b.a)(["\n  query getVideoLink {\n    getVideoLink {\n      ok\n      err\n      link\n    }\n  }\n"])));Object(f.a)(l||(l=Object(b.a)(["\n  query searchBoard($category: String!, $title: String!) {\n    searchBoard(category: $category, title: $title) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        writer\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),Object(f.a)(s||(s=Object(b.a)(["\n  query searchBoardByContent($category: String!, $content: String!) {\n    searchBoardByContent(category: $category, content: $content) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        writer\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"])))},123:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=function(t){var n=new Date(1e3*Math.floor(parseInt(t,10)/1e3));return n.getFullYear()+"-"+(n.getMonth()+1>=10?n.getMonth()+1:"0".concat(n.getMonth()+1))+"-"+(n.getDate()>=10?n.getDate():"0".concat(n.getDate()))}},130:function(t,n,e){"use strict";var r=e(89),i=e(2),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},o=e(91),c=function(t,n){return i.createElement(o.a,Object(r.a)(Object(r.a)({},t),{},{ref:n,icon:a}))};c.displayName="CloseOutlined";n.a=i.forwardRef(c)},131:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e(87),i=e(2);function a(){var t=i.useReducer((function(t){return t+1}),0);return Object(r.a)(t,2)[1]}},139:function(t,n,e){"use strict";var r;function i(t){if("undefined"===typeof document)return 0;if(t||void 0===r){var n=document.createElement("div");n.style.width="100%",n.style.height="200px";var e=document.createElement("div"),i=e.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",e.appendChild(n),document.body.appendChild(e);var a=n.offsetWidth;e.style.overflow="scroll";var o=n.offsetWidth;a===o&&(o=e.clientWidth),document.body.removeChild(e),r=a-o}return r}function a(t){var n=t.match(/^(.*)px$/),e=Number(null===n||void 0===n?void 0:n[1]);return Number.isNaN(e)?i():e}function o(t){if("undefined"===typeof document||!t||!(t instanceof Element))return{width:0,height:0};var n=getComputedStyle(t,"::-webkit-scrollbar"),e=n.width,r=n.height;return{width:a(e),height:a(r)}}e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return o}))},157:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e(0),i=e(2),a=e(74),o=e(5),c=e(107),d=e(21),u=e(106);function l(t,n){var e=Object(u.a)(null===n||void 0===n?void 0:n.client);Object(c.b)(t,c.a.Mutation);var l=Object(i.useState)({called:!1,loading:!1,client:e}),s=l[0],b=l[1],f=Object(i.useRef)({result:s,mutationId:0,isMounted:!0,client:e,mutation:t,options:n});Object.assign(f.current,{client:e,options:n,mutation:t});var g=Object(i.useCallback)((function(t){void 0===t&&(t={});var n=f.current,e=n.client,i=n.options,c=n.mutation,u=Object(r.a)(Object(r.a)({},i),{mutation:c});f.current.result.loading||u.ignoreResults||b(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:e});var l=++f.current.mutationId,s=Object(a.b)(u,t);return e.mutate(s).then((function(n){var r,i,a=n.data,c=n.errors,g=c&&c.length>0?new d.a({graphQLErrors:c}):void 0;if(l===f.current.mutationId&&!s.ignoreResults){var p={called:!0,loading:!1,data:a,error:g,client:e};f.current.isMounted&&!Object(o.a)(f.current.result,p)&&b(f.current.result=p)}return null===(r=u.onCompleted)||void 0===r||r.call(u,n.data),null===(i=t.onCompleted)||void 0===i||i.call(t,n.data),n})).catch((function(n){var r,i;if(l===f.current.mutationId&&f.current.isMounted){var a={loading:!1,error:n,data:void 0,called:!0,client:e};Object(o.a)(f.current.result,a)||b(f.current.result=a)}if(u.onError||s.onError)return null===(r=u.onError)||void 0===r||r.call(u,n),null===(i=t.onError)||void 0===i||i.call(t,n),{data:void 0,errors:n};throw n}))}),[]),p=Object(i.useCallback)((function(){b({called:!1,loading:!1,client:e})}),[]);return Object(i.useEffect)((function(){return function(){f.current.isMounted=!1}}),[]),[g,Object(r.a)({reset:p},s)]}},276:function(t,n,e){"use strict";var r=e(311);n.a=r.a},277:function(t,n,e){"use strict";var r=e(263);n.a=r.a},482:function(t,n,e){"use strict";e.r(n);var r,i,a,o,c=e(111),d=e(87),u=e(109),l=e.n(u),s=e(2),b=e(93),f=e(101),g=e(277),p=e(276),j=f.a.div(r||(r=Object(b.a)([""]))),O=Object(f.a)(g.a)(i||(i=Object(b.a)(["\n  height: 300px;\n"]))),m=f.a.span(a||(a=Object(b.a)(["\n  cursor: pointer;\n  &:hover {\n    transition: 0.2s linear;\n    color: #438ef7;\n  }\n"]))),y=(Object(f.a)(p.a)(o||(o=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),e(472)),h=e(477),$=e(6),v=e(88),k=e(86),S=e.n(k),I=e(162),x=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]])}return e},w=function(t){return s.createElement(I.a,null,(function(n){var e,r=n.getPrefixCls,i=n.direction,a=t.prefixCls,o=t.type,c=void 0===o?"horizontal":o,d=t.orientation,u=void 0===d?"center":d,l=t.className,b=t.children,f=t.dashed,g=t.plain,p=x(t,["prefixCls","type","orientation","className","children","dashed","plain"]),j=r("divider",a),O=u.length>0?"-".concat(u):u,m=!!b,y=S()(j,"".concat(j,"-").concat(c),(e={},Object(v.a)(e,"".concat(j,"-with-text"),m),Object(v.a)(e,"".concat(j,"-with-text").concat(O),m),Object(v.a)(e,"".concat(j,"-dashed"),!!f),Object(v.a)(e,"".concat(j,"-plain"),!!g),Object(v.a)(e,"".concat(j,"-rtl"),"rtl"===i),e),l);return s.createElement("div",Object($.a)({className:y},p,{role:"separator"}),b&&s.createElement("span",{className:"".concat(j,"-inner-text")},b))}))},B=e(135),A=e(157),N=e(120),E=e(219),_=e.n(E),C=e(4),L=e(45),M=e(102),q=e(44),D=e(123),R=e(11);n.default=function(){var t=Object(B.a)(N.a),n=t.data,e=t.loading,r=t.refetch,i=t.error,a=Object(B.a)(N.d),o=a.data,u=(a.loading,a.refetch),b=a.error,f=Object(C.h)().state,g=Object(s.useState)(),$=Object(d.a)(g,2),v=$[0],k=$[1],S=Object(s.useState)(),I=Object(d.a)(S,2),x=I[0],E=I[1],P=Object(s.useState)(),F=Object(d.a)(P,2),V=(F[0],F[1]),Q=Object(A.a)(M.h),H=Object(d.a)(Q,1)[0];Object(s.useEffect)((function(){null!==n&&void 0!==n&&n.getBoard.data&&(k(n.getBoard.data.filter((function(t){return t.category.includes("community-notice")})).slice(0,5)),E(n.getBoard.data.filter((function(t){return t.category.includes("community-administration")})).slice(0,5)))}),[n]),Object(s.useEffect)((function(){null!==o&&void 0!==o&&o.getLinks.data&&V(o.getLinks.data)}),[o]),Object(s.useEffect)((function(){var t=function(){r&&r(),u&&u()};return f&&f.refresh&&t(),function(){return t()}}),[r,f,u]);Object(s.useCallback)(function(){var t=Object(c.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H({variables:{id:n}}).then((function(t){var n=t.data;null!==n&&void 0!==n&&n.deleteLink.ok&&q.b.success("\ub9c1\ud06c\uac00 \uc0ad\uc81c \ub418\uc5c7\uc2b5\ub2c8\ub2e4")}));case 2:r(),u();case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),[r,H,u]);return i&&console.error(i),b&&console.error(b),Object(R.jsxs)(j,{children:[e?Object(R.jsx)(R.Fragment,{children:"loading..."}):Object(R.jsxs)(p.a,{gutter:[30,40],justify:"space-between",children:[Object(R.jsx)(O,{span:11,children:Object(R.jsxs)(y.a,{title:function(){return Object(R.jsx)(h.a.Title,{level:4,children:"\uacf5\uc9c0\uc0ac\ud56d"})},dataSource:v,showHeader:!1,rowKey:"noticeid",pagination:!1,size:"middle",children:[Object(R.jsx)(_.a,{dataIndex:"title",align:"left",ellipsis:!0,render:function(t,n,e){return Object(R.jsx)(m,{children:Object(R.jsx)(L.b,{to:"/admin/community/detail-community?category=".concat(n.category,"&id=").concat(n.id),children:t})},e)}},"noticesubid"),Object(R.jsx)(_.a,{dataIndex:"createdAt",align:"right",render:function(t,n,e){return Object(R.jsx)("span",{children:Object(R.jsx)(L.b,{to:"/admin/community/detail-community?category=".concat(n.category,"&id=").concat(n.id),children:Object(D.a)(t)})},e)}},"noticetime")]})}),Object(R.jsx)(O,{span:11,children:Object(R.jsxs)(y.a,{title:function(){return Object(R.jsx)(h.a.Title,{level:4,children:"\ud559\uc0ac\uacf5\uc9c0"})},dataSource:x,showHeader:!1,rowKey:"admissionkey",pagination:!1,size:"middle",children:[Object(R.jsx)(_.a,{dataIndex:"title",align:"left",ellipsis:!0,render:function(t,n,e){return Object(R.jsx)(m,{children:Object(R.jsx)(L.b,{to:"/admin/community/detail-community?category=".concat(n.category,"&id=").concat(n.id),children:t})},e)}},"subadmissionkey"),Object(R.jsx)(_.a,{dataIndex:"createdAt",align:"right",render:function(t,n,e){return Object(R.jsx)("span",{children:Object(R.jsx)(L.b,{to:"/admin/community/detail-community?category=".concat(n.category,"&id=").concat(n.id),children:Object(D.a)(t)})},e)}},"subadmissionkeydate")]})})]}),Object(R.jsx)(w,{})]})}}}]);
//# sourceMappingURL=15.ca2b14a6.chunk.js.map