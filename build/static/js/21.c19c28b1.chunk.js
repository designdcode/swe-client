(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[21],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"k",(function(){return k})),n.d(t,"e",(function(){return S})),n.d(t,"i",(function(){return x})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return I})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return B})),n.d(t,"j",(function(){return N})),n.d(t,"d",(function(){return A})),n.d(t,"h",(function(){return E}));var r,a,c,o,i,l,u,s,d,b,f,p,m,j,g,O,v,y=n(94),h=n(535),$=Object(h.a)(r||(r=Object(y.a)(["\n  mutation createBoard(\n    $title: String\n    $content: String\n    $category: String!\n    $files: [AttachModel]\n    $images: [AttachModel]\n    $link: String\n    $type: String\n    $private: Boolean\n    $writer: String\n    $showAttach: Boolean\n    $inputCreatedAt: String\n  ) {\n    createBoard(\n      title: $title\n      content: $content\n      category: $category\n      files: $files\n      images: $images\n      link: $link\n      type: $type\n      private: $private\n      writer: $writer\n      showAttach: $showAttach\n      inputCreatedAt: $inputCreatedAt\n    ) {\n      ok\n      err\n    }\n  }\n"]))),k=Object(h.a)(a||(a=Object(y.a)(["\n  query getBoardByCategory($category: String!) {\n    getBoardByCategory(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        writer\n        inputCreatedAt\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),S=Object(h.a)(c||(c=Object(y.a)(["\n  mutation deleteBoard($id: Int!) {\n    deleteBoard(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),x=Object(h.a)(o||(o=Object(y.a)(["\n  mutation editBoard(\n    $id: Int!\n    $title: String\n    $content: String\n    $link: String\n    $private: Boolean\n    $type: String\n    $showAttach: Boolean\n    $inputCreatedAt: String\n  ) {\n    editBoard(\n      id: $id\n      title: $title\n      content: $content\n      link: $link\n      private: $private\n      type: $type\n      showAttach: $showAttach\n      inputCreatedAt: $inputCreatedAt\n    ) {\n      ok\n      err\n    }\n  }\n"]))),w=(Object(h.a)(i||(i=Object(y.a)(["\n  mutation editFile($id: Int!, $url: String!, $fileName: String!) {\n    editFile(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(h.a)(l||(l=Object(y.a)(["\n  mutation editImage($id: Int!, $url: String!, $fileName: String!) {\n    editImage(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(h.a)(u||(u=Object(y.a)(["\n  mutation deleteFile($id: Int!) {\n    deleteFile(id: $id) {\n      ok\n      err\n    }\n  }\n"])))),I=Object(h.a)(s||(s=Object(y.a)(["\n  mutation deleteImage($id: Int!) {\n    deleteImage(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),C=Object(h.a)(d||(d=Object(y.a)(["\n  mutation createFile($url: String!, $fileName: String!, $boardId: Int!) {\n    createFile(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),B=Object(h.a)(b||(b=Object(y.a)(["\n  mutation createImage($url: String!, $fileName: String!, $boardId: Int!) {\n    createImage(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),N=(Object(h.a)(f||(f=Object(y.a)(["\n  mutation createLink($title: String!, $url: String!) {\n    createLink(title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),Object(h.a)(p||(p=Object(y.a)(["\n  mutation deleteLink($id: Int!) {\n    deleteLink(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),Object(h.a)(m||(m=Object(y.a)(["\n  mutation editLink($id: Int!, $title: String, $url: String) {\n    editLink(id: $id, title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),Object(h.a)(j||(j=Object(y.a)(["\n  mutation editPopup($up: String!, $url: String, $link: String) {\n    editPopup(up: $up, url: $url, link: $link) {\n      ok\n      err\n    }\n  }\n"])))),A=Object(h.a)(g||(g=Object(y.a)(["\n  mutation createReply($boardId: Int!, $content: String!) {\n    createReply(boardId: $boardId, content: $content) {\n      ok\n      err\n    }\n  }\n"]))),E=(Object(h.a)(O||(O=Object(y.a)(["\n  mutation editReply($replyId: Int!, $content: String) {\n    editReply(replyId: $replyId, content: $content) {\n      ok\n      err\n    }\n  }\n"]))),Object(h.a)(v||(v=Object(y.a)(["\n  mutation deleteReply($replyId: Int!) {\n    deleteReply(replyId: $replyId) {\n      ok\n      err\n    }\n  }\n"]))))},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(126);n(185);r.a.initializeApp({apiKey:"AIzaSyDM5Cqu1m1YJ7E44OfM9Yo3LH0ZUN8Y6x4",authDomain:"sunmoon-swe.firebaseapp.com",projectId:"sunmoon-swe",storageBucket:"sunmoon-swe.appspot.com",messagingSenderId:"1064857281018",appId:"1:1064857281018:web:b2881ce151e1a16b068443",measurementId:"G-JYK8JT1WEN"});var a=r.a.storage()},123:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y}));var r,a,c,o,i,l,u,s,d,b=n(94),f=n(535),p=Object(f.a)(r||(r=Object(b.a)(["\n  query getBoardById($id: Int!) {\n    getBoardById(id: $id) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        writer\n        showAttach\n        inputCreatedAt\n        replies {\n          id\n          content\n        }\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),m=Object(f.a)(a||(a=Object(b.a)(["\n  query getLinks {\n    getLinks {\n      ok\n      err\n      data {\n        id\n        url\n        title\n        createdAt\n      }\n    }\n  }\n"]))),j=Object(f.a)(c||(c=Object(b.a)(["\n  query getBoard {\n    getBoard {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        link\n        createdAt\n        inputCreatedAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),g=Object(f.a)(o||(o=Object(b.a)(["\n  mutation UserLogin($id: String!, $pwd: String!) {\n    UserLogin(id: $id, pwd: $pwd) {\n      success\n      error\n      data {\n        id\n        stno\n      }\n    }\n  }\n"]))),O=Object(f.a)(i||(i=Object(b.a)(["\n  query getBoardByMonth($category: String!) {\n    getBoardByMonth(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        link\n        createdAt\n        inputCreatedAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),v=Object(f.a)(l||(l=Object(b.a)(["\n  query getPopupStatus {\n    getPopupStatus {\n      ok\n      err\n      data {\n        url\n        up\n        link\n      }\n    }\n  }\n"]))),y=Object(f.a)(u||(u=Object(b.a)(["\n  query getVideoLink {\n    getVideoLink {\n      ok\n      err\n      link\n    }\n  }\n"])));Object(f.a)(s||(s=Object(b.a)(["\n  query searchBoard($category: String!, $title: String!) {\n    searchBoard(category: $category, title: $title) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        writer\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),Object(f.a)(d||(d=Object(b.a)(["\n  query searchBoardByContent($category: String!, $content: String!) {\n    searchBoardByContent(category: $category, content: $content) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        writer\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"])))},128:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l}));var r=function(e){return"storage"===(null===e||void 0===e?void 0:e.toString().split("-")[0])},a=function(e){var t=null===e||void 0===e?void 0:e.toString().split("-")[0],n=null===e||void 0===e?void 0:e.toString().split("-")[1];switch(t){case"community":return"notice"===n||("administration"===n||"storage"===n);case"storage":case"achievement":return!0;default:return!1}},c=function(e){switch(null===e||void 0===e?void 0:e.toString().split("-")[1]){case"aidnews":case"valuenews":case"coopnews":return!0;default:return!1}},o=function(e){var t=null===e||void 0===e?void 0:e.toString().split("-")[0],n=null===e||void 0===e?void 0:e.toString().split("-")[1];switch(t){case"community":return"notice"===n||("administration"===n||"storage"===n);case"storage":case"achievement":return!0;default:return!1}},i=function(e){return"introduce"!==(null===e||void 0===e?void 0:e.toString().split("-")[0])},l=function(e){switch(null===e||void 0===e?void 0:e.toString().split("-")[1]){case"help":case"request":return!0;default:return!1}}},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n(2),c=n(5),o=n(56),i=n(22),l=n(3),u=n(111),s=n(110);function d(e,t){var n,d=Object(a.useContext)(Object(o.a)()),f=Object(s.a)(null===t||void 0===t?void 0:t.client);Object(u.b)(e,u.a.Query);var p,m=Object(a.useState)((function(){var n=b(e,t),r=null;return d.renderPromises&&(r=d.renderPromises.getSSRObservable(n)),r||(r=f.watchQuery(n),d.renderPromises&&d.renderPromises.registerSSRObservable(r,n)),d.renderPromises&&!1!==(null===t||void 0===t?void 0:t.ssr)&&!(null===t||void 0===t?void 0:t.skip)&&r.getCurrentResult().loading&&d.renderPromises.addQueryPromise({getOptions:function(){return b(e,t)},fetchData:function(){return new Promise((function(e){var t=r.subscribe({next:function(n){n.loading||(e(),t.unsubscribe())},error:function(){e(),t.unsubscribe()},complete:function(){e()}})}))}},(function(){return null})),r})),j=m[0],g=m[1],O=Object(a.useState)((function(){var e,n,r=j.getCurrentResult();return!r.loading&&t&&(r.error?null===(e=t.onError)||void 0===e||e.call(t,r.error):r.data&&(null===(n=t.onCompleted)||void 0===n||n.call(t,r.data))),r})),v=O[0],y=O[1],h=Object(a.useRef)({client:f,query:e,options:t,result:v,previousData:void 0,watchQueryOptions:b(e,t)});Object(a.useEffect)((function(){var n,r,a,o=b(e,t);if(h.current.client===f&&Object(c.a)(h.current.query,e))Object(c.a)(h.current.watchQueryOptions,o)||(j.setOptions(o).catch((function(){})),a=j.getCurrentResult(),h.current.watchQueryOptions=o);else{var i=f.watchQuery(o);g(i),a=i.getCurrentResult()}if(a){var l=h.current.result;l.data&&(h.current.previousData=l.data),y(h.current.result=a),!a.loading&&t&&(v.loading||(v.error?null===(n=t.onError)||void 0===n||n.call(t,v.error):v.data&&(null===(r=t.onCompleted)||void 0===r||r.call(t,v.data))))}Object.assign(h.current,{client:f,query:e})}),[j,f,e,t]),Object(a.useEffect)((function(){if(!d.renderPromises){var e=j.subscribe(t,(function n(r){var a,o,i=j.last;e.unsubscribe();try{j.resetLastResults(),e=j.subscribe(t,n)}finally{j.last=i}if(!r.hasOwnProperty("graphQLErrors"))throw r;var u=h.current.result;(u&&u.loading||!Object(c.a)(r,u.error))&&(y(h.current.result={data:u.data,error:r,loading:!1,networkStatus:l.a.error}),null===(o=null===(a=h.current.options)||void 0===a?void 0:a.onError)||void 0===o||o.call(a,r))}));return function(){return e.unsubscribe()}}function t(){var e,t,n=h.current.result,r=j.getCurrentResult();n&&n.loading===r.loading&&n.networkStatus===r.networkStatus&&Object(c.a)(n.data,r.data)||(n.data&&(h.current.previousData=n.data),y(h.current.result=r),r.loading||null===(t=null===(e=h.current.options)||void 0===e?void 0:e.onCompleted)||void 0===t||t.call(e,r.data))}}),[j,d.renderPromises,f.disableNetworkFetches]),p=(n=v).partial,v=Object(r.f)(n,["partial"]),!p||!(null===t||void 0===t?void 0:t.partialRefetch)||v.loading||v.data&&0!==Object.keys(v.data).length||"cache-only"===j.options.fetchPolicy||(v=Object(r.a)(Object(r.a)({},v),{loading:!0,networkStatus:l.a.refetch}),j.refetch()),d.renderPromises&&!1!==(null===t||void 0===t?void 0:t.ssr)&&!(null===t||void 0===t?void 0:t.skip)&&v.loading&&j.setOptions(b(e,t)).catch((function(){})),Object.assign(h.current,{options:t}),(d.renderPromises||f.disableNetworkFetches)&&!1===(null===t||void 0===t?void 0:t.ssr)?v=h.current.result={loading:!0,data:void 0,error:void 0,networkStatus:l.a.loading}:((null===t||void 0===t?void 0:t.skip)||"standby"===(null===t||void 0===t?void 0:t.fetchPolicy))&&(v={loading:!1,data:void 0,error:void 0,networkStatus:l.a.ready}),v.errors&&v.errors.length&&(v=Object(r.a)(Object(r.a)({},v),{error:v.error||new i.a({graphQLErrors:v.errors})}));var $=Object(a.useMemo)((function(){return{refetch:j.refetch.bind(j),fetchMore:j.fetchMore.bind(j),updateQuery:j.updateQuery.bind(j),startPolling:j.startPolling.bind(j),stopPolling:j.stopPolling.bind(j),subscribeToMore:j.subscribeToMore.bind(j)}}),[j]);return Object(r.a)(Object(r.a)(Object(r.a)({},$),{variables:b(e,t).variables,client:f,called:!0,previousData:h.current.previousData}),v)}function b(e,t){var n;void 0===t&&(t={});var a=t.skip,c=(t.ssr,t.onCompleted,t.onError,t.displayName,Object(r.f)(t,["skip","ssr","onCompleted","onError","displayName"]));return a?c.fetchPolicy="standby":(!(null===(n=c.context)||void 0===n?void 0:n.renderPromises)||"network-only"!==c.fetchPolicy&&"cache-and-network"!==c.fetchPolicy)&&c.fetchPolicy||(c.fetchPolicy="cache-first"),c.variables||(c.variables={}),Object(r.a)({query:e},c)}},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(45),a=n(116),c=function(e,t,n,c){a.a.ref("/".concat(e,"/").concat(t,"/").concat(n)).delete().then((function(){c("")})).catch((function(e){return r.b.error(e)}))}},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(118),a=n(117),c=n.n(a),o=n(45),i=n(116),l=function(e,t,n,a,l,u,s,d,b){i.a.ref("/".concat(e,"/").concat(n,"/").concat(a)).put(t).on("state_changed",(function(e){}),(function(e){return console.log(e)}),(function(){s(1),i.a.ref("/".concat(e,"/").concat(n,"/").concat(a)).getDownloadURL().then(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(t),!d||!b){e.next=4;break}return e.next=4,d({variables:{url:t,fileName:a,boardId:b}});case 4:o.b.success("\ud30c\uc77c / \uc774\ubbf8\uc9c0\uac00 \uc5c5\ub85c\ub4dc \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),s(0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(88),a=n(89),c=n(95),o=n(2),i=n(87),l=n.n(i),u=n(112),s=n(145),d=n(101),b=n(198),f=n(6);function p(e){return void 0!==e&&null!==e}var m=function(e){var t,n=e.itemPrefixCls,a=e.component,c=e.span,i=e.className,u=e.style,s=e.labelStyle,d=e.contentStyle,b=e.bordered,f=e.label,m=e.content,j=e.colon,g=a;return b?o.createElement(g,{className:l()((t={},Object(r.a)(t,"".concat(n,"-item-label"),p(f)),Object(r.a)(t,"".concat(n,"-item-content"),p(m)),t),i),style:u,colSpan:c},p(f)&&o.createElement("span",{style:s},f),p(m)&&o.createElement("span",{style:d},m)):o.createElement(g,{className:l()("".concat(n,"-item"),i),style:u,colSpan:c},o.createElement("div",{className:"".concat(n,"-item-container")},f&&o.createElement("span",{className:l()("".concat(n,"-item-label"),Object(r.a)({},"".concat(n,"-item-no-colon"),!j)),style:s},f),m&&o.createElement("span",{className:l()("".concat(n,"-item-content")),style:d},m)))};function j(e,t,n){var r=t.colon,a=t.prefixCls,c=t.bordered,i=n.component,l=n.type,u=n.showLabel,s=n.showContent,d=n.labelStyle,b=n.contentStyle;return e.map((function(e,t){var n=e.props,p=n.label,j=n.children,g=n.prefixCls,O=void 0===g?a:g,v=n.className,y=n.style,h=n.labelStyle,$=n.contentStyle,k=n.span,S=void 0===k?1:k,x=e.key;return"string"===typeof i?o.createElement(m,{key:"".concat(l,"-").concat(x||t),className:v,style:y,labelStyle:Object(f.a)(Object(f.a)({},d),h),contentStyle:Object(f.a)(Object(f.a)({},b),$),span:S,colon:r,component:i,itemPrefixCls:O,bordered:c,label:u?p:null,content:s?j:null}):[o.createElement(m,{key:"label-".concat(x||t),className:v,style:Object(f.a)(Object(f.a)(Object(f.a)({},d),y),h),span:1,colon:r,component:i[0],itemPrefixCls:O,bordered:c,label:p}),o.createElement(m,{key:"content-".concat(x||t),className:v,style:Object(f.a)(Object(f.a)(Object(f.a)({},b),y),$),span:2*S-1,component:i[1],itemPrefixCls:O,bordered:c,content:j})]}))}var g=function(e){var t=o.useContext(y),n=e.prefixCls,r=e.vertical,a=e.row,c=e.index,i=e.bordered;return r?o.createElement(o.Fragment,null,o.createElement("tr",{key:"label-".concat(c),className:"".concat(n,"-row")},j(a,e,Object(f.a)({component:"th",type:"label",showLabel:!0},t))),o.createElement("tr",{key:"content-".concat(c),className:"".concat(n,"-row")},j(a,e,Object(f.a)({component:"td",type:"content",showContent:!0},t)))):o.createElement("tr",{key:c,className:"".concat(n,"-row")},j(a,e,Object(f.a)({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},O=function(e){return e.children},v=n(107),y=o.createContext({}),h={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function $(e,t,n){var r=e;return(void 0===t||t>n)&&(r=Object(v.a)(e,{span:n}),Object(d.a)(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),r}function k(e){var t,n=e.prefixCls,i=e.title,d=e.extra,f=e.column,p=void 0===f?h:f,m=e.colon,j=void 0===m||m,O=e.bordered,v=e.layout,k=e.children,S=e.className,x=e.style,w=e.size,I=e.labelStyle,C=e.contentStyle,B=o.useContext(b.b),N=B.getPrefixCls,A=B.direction,E=N("descriptions",n),P=o.useState({}),L=Object(a.a)(P,2),R=L[0],q=L[1],F=function(e,t){if("number"===typeof e)return e;if("object"===Object(c.a)(e))for(var n=0;n<s.b.length;n++){var r=s.b[n];if(t[r]&&void 0!==e[r])return e[r]||h[r]}return 3}(p,R);o.useEffect((function(){var e=s.a.subscribe((function(e){"object"===Object(c.a)(p)&&q(e)}));return function(){s.a.unsubscribe(e)}}),[]);var D=function(e,t){var n=Object(u.a)(e).filter((function(e){return e})),r=[],a=[],c=t;return n.forEach((function(e,o){var i,l=null===(i=e.props)||void 0===i?void 0:i.span,u=l||1;if(o===n.length-1)return a.push($(e,l,c)),void r.push(a);u<c?(c-=u,a.push(e)):(a.push($(e,u,c)),r.push(a),c=t,a=[])})),r}(k,F),M=o.useMemo((function(){return{labelStyle:I,contentStyle:C}}),[I,C]);return o.createElement(y.Provider,{value:M},o.createElement("div",{className:l()(E,(t={},Object(r.a)(t,"".concat(E,"-").concat(w),w&&"default"!==w),Object(r.a)(t,"".concat(E,"-bordered"),!!O),Object(r.a)(t,"".concat(E,"-rtl"),"rtl"===A),t),S),style:x},(i||d)&&o.createElement("div",{className:"".concat(E,"-header")},i&&o.createElement("div",{className:"".concat(E,"-title")},i),d&&o.createElement("div",{className:"".concat(E,"-extra")},d)),o.createElement("div",{className:"".concat(E,"-view")},o.createElement("table",null,o.createElement("tbody",null,D.map((function(e,t){return o.createElement(g,{key:t,index:t,colon:j,prefixCls:E,vertical:"vertical"===v,bordered:O,row:e})})))))))}k.Item=O;t.b=k},266:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r,a,c=n(94),o=n(102),i=n(156),l=o.a.div(r||(r=Object(c.a)(["\n  & .button-group {\n    display: flex;\n    align-items: center;\n  }\n\n  & .attach-group {\n    display: flex;\n    margin: 5px 0;\n  }\n\n  & .attach-button {\n    margin-left: 15px;\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n    &:hover {\n      color: #e74c3c;\n      transition: linear 0.2s;\n    }\n  }\n"]))),u=Object(o.a)(i.a)(a||(a=Object(c.a)(["\n  margin: 15px 0;\n  margin-right: 15px;\n"])))},548:function(e,t,n){"use strict";n.r(t);var r,a=n(93),c=n(118),o=n(89),i=n(117),l=n.n(i),u=n(228),s=n(479),d=n(529),b=n(534),f=n(2),p=n(197),m=n.n(p),j=n(4),g=n(94),O=n(102).a.div(r||(r=Object(g.a)(["\n  & .attach-group {\n    display: flex;\n    margin: 5px 0;\n  }\n\n  & .attach-button {\n    margin-left: 15px;\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n    &:hover {\n      color: #e74c3c;\n      transition: linear 0.2s;\n    }\n  }\n  & .button-group {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  img {\n    object-fit: contain;\n    width: 300px;\n    height: 400px;\n  }\n"]))),v=n(138),y=n(209),h=n(123),$=n(127),k=n(266),S=n(142),x=n(485),w=n(553),I=n(106),C=n(45),B=n(154),N=n(153),A=n(128),E=n(116),P=n(10);t.default=function(){var e=Object(j.g)(),t=Object(j.i)(),n=t.param,r=t.subparam,i=Object(j.h)().search,p=m.a.parse(i),g=p.category,L=p.id,R=Object(f.useState)(),q=Object(o.a)(R,2),F=q[0],D=q[1],M=Object(f.useState)(),Q=Object(o.a)(M,2),J=Q[0],T=Q[1],U=Object(f.useState)([]),z=Object(o.a)(U,2),Y=z[0],_=z[1],K=Object(f.useState)(),V=Object(o.a)(K,2),G=V[0],H=V[1],W=Object(f.useState)(),Z=Object(o.a)(W,2),X=Z[0],ee=Z[1],te=Object(f.useState)(),ne=Object(o.a)(te,2),re=ne[0],ae=ne[1],ce=Object($.a)(""),oe=Object(o.a)(ce,3),ie=oe[0],le=oe[1],ue=oe[2],se=Object(f.useState)(0),de=Object(o.a)(se,2),be=de[0],fe=de[1],pe=Object(f.useState)(!1),me=Object(o.a)(pe,2),je=me[0],ge=me[1],Oe=Object(f.useState)(!1),ve=Object(o.a)(Oe,2),ye=ve[0],he=ve[1];Object(f.useEffect)((function(){ge(Object(A.b)(r)),he(Object(A.d)(r))}),[r]);var $e=Object(v.a)(h.b,{variables:{id:parseInt(L,10)}}),ke=$e.loading,Se=$e.data,xe=$e.refetch,we=Object(y.a)(I.c,{onCompleted:function(e){e.createImage.ok&&(fe(0),xe&&xe())}}),Ie=Object(o.a)(we,1)[0],Ce=Object(y.a)(I.g,{onCompleted:function(e){var t=e.deleteImage,n=t.ok,r=t.err;n?(xe&&xe(),C.b.error("\uc774\ubbf8\uc9c0\uac00 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4")):(console.log(r),C.b.error(r))}}),Be=Object(o.a)(Ce,1)[0],Ne=Object(y.a)(I.b,{onCompleted:function(e){e.createFile.ok&&(fe(0),xe&&xe())}}),Ae=Object(o.a)(Ne,1)[0],Ee=Object(y.a)(I.f,{onCompleted:function(e){var t=e.deleteFile,n=t.ok,r=t.err;n?(C.b.success("\ud30c\uc77c\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),xe&&xe()):(console.log(r),C.b.error(r))}}),Pe=Object(o.a)(Ee,1)[0],Le=Object(y.a)(I.i,{onCompleted:function(t){var r=t.editBoard,a=r.ok,c=r.err;a?(C.b.success("\uac8c\uc2dc\ubb3c\uc774 \uc218\uc815 \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),e.push({pathname:"/admin/".concat(n,"/").concat(g),state:{refresh:!0}})):(console.log(c),C.b.error("\uac8c\uc2dc\ubb3c\uc744 \uc0ad\uc81c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"))}}),Re=Object(o.a)(Le,1)[0],qe=Object(f.useCallback)((function(){X&&X.trim()&&Object(N.a)("images",g,X,H)}),[g,X]),Fe=Object(f.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qe(),fe(be+1),n=t.name,ee(t.name),Object(B.a)("images",t,g,n,H,be,fe,Ie,parseInt(L,10));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,be,qe,Ie,L]),De=Object(f.useCallback)((function(e){fe(1),E.a.ref("/files/".concat(g,"/").concat(e.name)).put(e).on("state_changed",(function(e){}),(function(e){return console.log(e)}),(function(){E.a.ref("/files/".concat(g,"/").concat(e.name)).getDownloadURL().then(function(){var t=Object(c.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _((function(t){return[].concat(Object(a.a)(t),[{url:n,fileName:e.name}])})),t.next=3,Ae({variables:{url:n,fileName:e.name,boardId:parseInt(L,10)},onCompleted:function(e){var t=e.createFile,n=t.ok,r=t.err;n?(C.b.success("\ud30c\uc77c\uc774 \uc5c5\ub85c\ub4dc \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),xe&&xe()):(C.b.error("\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328 \ud558\uc600\uc2b5\ub2c8\ub2e4"),console.log(r))}});case 3:fe(be-1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}),[Ae,L,g,be,xe]),Me=Object(f.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.a.ref("/files/".concat(g,"/").concat(n)).delete(),e.next=3,Pe({variables:{id:t}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[Pe,g]);return Object(f.useEffect)((function(){var e;(Se&&Se.getBoardById&&Se.getBoardById.data&&(D(Se.getBoardById.data),ue(Se.getBoardById.data.link||"")),Se&&Se.getBoardById&&Se.getBoardById.data&&Se.getBoardById.data.files&&T(Se.getBoardById.data.files),Se&&Se.getBoardById&&Se.getBoardById.data&&Se.getBoardById.data.images)&&(ae(Se.getBoardById.data.images[0]),ee(null===(e=Se.getBoardById.data.images[0])||void 0===e?void 0:e.fileName))}),[Se,D,ue]),ke?Object(P.jsx)("div",{children:"loading..."}):Object(P.jsxs)(O,{children:[Object(P.jsxs)("div",{className:"button-group",children:[Object(P.jsx)(k.a,{type:"ghost",onClick:function(){return e.goBack()},children:"\ub4a4\ub85c"}),Object(P.jsx)(k.a,{type:"primary",disabled:0!==be,onClick:function(){return Re({variables:{id:parseInt(L,10),link:ie.includes("http")?ie:"http://".concat(ie)}})},children:0===be?"\uc644\ub8cc":Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(S.a,{})," \ud30c\uc77c / \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub529 \uc911"]})})]}),Object(P.jsxs)(u.b,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},layout:"horizontal",children:[ye&&Object(P.jsx)(u.b.Item,{label:"\ub9c1\ud06c",span:4,labelStyle:{width:100},children:Object(P.jsx)(s.a,{placeholder:(null===F||void 0===F?void 0:F.link)||void 0,value:ie,onChange:le})}),je&&Object(P.jsxs)(u.b.Item,{label:"\ud30c\uc77c",span:4,labelStyle:{width:100},children:[J&&0!==J.length?Object(P.jsx)(P.Fragment,{children:J.map((function(e,t){return Object(P.jsxs)("div",{className:"attach-group",children:[Object(P.jsx)("a",{href:null===e||void 0===e?void 0:e.url,download:!0,target:"_blank",rel:"noreferrer",children:null===e||void 0===e?void 0:e.fileName}),Object(P.jsx)("button",{className:"attach-button",onClick:function(){return Me(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.fileName)},children:Object(P.jsx)(x.a,{})})]},t)}))}):0===Y.length?Object(P.jsx)("div",{children:"\ucca8\ubd80\ud30c\uc77c \uc5c6\uc74c"}):Object(P.jsx)(P.Fragment,{}),Object(P.jsx)(d.a,{multiple:!0,maxCount:4,className:"upload-list-inline",customRequest:function(e){var t=e.file;return De(t)},onChange:function(e){var t=e.file;0!==Y.length?t.status="done":t.status="removed"},children:Object(P.jsx)(k.a,{icon:Object(P.jsx)(w.a,{}),children:"\ud30c\uc77c \uc5c5\ub85c\ub4dc"})})]}),Object(P.jsxs)(u.b.Item,{label:"\uc774\ubbf8\uc9c0",span:4,labelStyle:{width:100},children:[re&&Object(P.jsx)(k.a,{danger:!0,icon:Object(P.jsx)(x.a,{}),onClick:function(){Object(N.a)("images",g,re.fileName,H),Be({variables:{id:re.id}})},children:"\uc774\ubbf8\uc9c0 \uc0ad\uc81c"}),Object(P.jsx)(d.a,{listType:"picture",customRequest:function(e){var t=e.file;re&&Be({variables:{id:re&&re.id}}),Fe(t)},progress:{showInfo:!0},onChange:function(e){var t=e.file;t.status=G?"done":"removed"},maxCount:1,children:Object(P.jsx)(k.a,{icon:Object(P.jsx)(w.a,{}),children:"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc"})}),re?Object(P.jsx)("img",{src:re.url,alt:re.fileName}):Object(P.jsx)(b.a.Text,{children:"\uc5c5\ub85c\ub4dc \ub41c \uc774\ubbf8\uc9c0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})]})]})]})}}}]);
//# sourceMappingURL=21.c19c28b1.chunk.js.map