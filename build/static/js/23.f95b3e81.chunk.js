(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[23],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"k",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"f",(function(){return $})),n.d(t,"g",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"h",(function(){return I})),n.d(t,"j",(function(){return B}));var r,a,c,i,o,l,d,s,u,b,m,f,j,g=n(95),O=n(417),p=Object(O.a)(r||(r=Object(g.a)(["\n  mutation createBoard(\n    $title: String\n    $content: String\n    $category: String!\n    $files: [AttachModel]\n    $images: [AttachModel]\n    $link: String\n  ) {\n    createBoard(\n      title: $title\n      content: $content\n      category: $category\n      files: $files\n      images: $images\n      link: $link\n    ) {\n      ok\n      err\n    }\n  }\n"]))),y=Object(O.a)(a||(a=Object(g.a)(["\n  query getBoardByCategory($category: String!) {\n    getBoardByCategory(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),v=Object(O.a)(c||(c=Object(g.a)(["\n  mutation deleteBoard($id: Int!) {\n    deleteBoard(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),h=Object(O.a)(i||(i=Object(g.a)(["\n  mutation editBoard(\n    $id: Int!\n    $title: String\n    $content: String\n    $link: String\n  ) {\n    editBoard(id: $id, title: $title, content: $content, link: $link) {\n      ok\n      err\n    }\n  }\n"]))),$=(Object(O.a)(o||(o=Object(g.a)(["\n  mutation editFile($id: Int!, $url: String!, $fileName: String!) {\n    editFile(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(O.a)(l||(l=Object(g.a)(["\n  mutation editImage($id: Int!, $url: String!, $fileName: String!) {\n    editImage(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(O.a)(d||(d=Object(g.a)(["\n  mutation deleteFile($id: Int!) {\n    deleteFile(id: $id) {\n      ok\n      err\n    }\n  }\n"])))),k=Object(O.a)(s||(s=Object(g.a)(["\n  mutation deleteImage($id: Int!) {\n    deleteImage(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),S=Object(O.a)(u||(u=Object(g.a)(["\n  mutation createFile($url: String!, $fileName: String!, $boardId: Int!) {\n    createFile(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),x=Object(O.a)(b||(b=Object(g.a)(["\n  mutation createImage($url: String!, $fileName: String!, $boardId: Int!) {\n    createImage(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),w=Object(O.a)(m||(m=Object(g.a)(["\n  mutation createLink($title: String!, $url: String!) {\n    createLink(title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),I=Object(O.a)(f||(f=Object(g.a)(["\n  mutation deleteLink($id: Int!) {\n    deleteLink(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),B=Object(O.a)(j||(j=Object(g.a)(["\n  mutation editLink($id: Int!, $title: String, $url: String) {\n    editLink(id: $id, title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"])))},116:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return f}));var r,a,c,i,o,l=n(95),d=n(417),s=Object(d.a)(r||(r=Object(l.a)(["\n  query getBoardById($id: Int!) {\n    getBoardById(id: $id) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),u=Object(d.a)(a||(a=Object(l.a)(["\n  query getLinks {\n    getLinks {\n      ok\n      err\n      data {\n        id\n        url\n        title\n        createdAt\n      }\n    }\n  }\n"]))),b=Object(d.a)(c||(c=Object(l.a)(["\n  query getBoard {\n    getBoard {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),m=Object(d.a)(i||(i=Object(l.a)(["\n  mutation UserLogin($id: String!, $pwd: String!) {\n    UserLogin(id: $id, pwd: $pwd) {\n      success\n      error\n      data {\n        id\n        stno\n      }\n    }\n  }\n"]))),f=Object(d.a)(o||(o=Object(l.a)(["\n  query getBoardByMonth($category: String!) {\n    getBoardByMonth(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"])))},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=new Date(1e3*Math.floor(parseInt(e,10)/1e3));return t.getFullYear()+"-"+(t.getMonth()+1>=10?t.getMonth()+1:"0".concat(t.getMonth()+1))+"-"+(t.getDate()>=10?t.getDate():"0".concat(t.getDate()))}},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n(2),c=n(5),i=n(55),o=n(21),l=n(3),d=n(108),s=n(107);function u(e,t){var n,u=Object(a.useContext)(Object(i.a)()),m=Object(s.a)(null===t||void 0===t?void 0:t.client);Object(d.b)(e,d.a.Query);var f,j=Object(a.useState)((function(){var n=b(e,t),r=null;return u.renderPromises&&(r=u.renderPromises.getSSRObservable(n)),r||(r=m.watchQuery(n),u.renderPromises&&u.renderPromises.registerSSRObservable(r,n)),u.renderPromises&&!1!==(null===t||void 0===t?void 0:t.ssr)&&!(null===t||void 0===t?void 0:t.skip)&&r.getCurrentResult().loading&&u.renderPromises.addQueryPromise({getOptions:function(){return b(e,t)},fetchData:function(){return new Promise((function(e){var t=r.subscribe({next:function(n){n.loading||(e(),t.unsubscribe())},error:function(){e(),t.unsubscribe()},complete:function(){e()}})}))}},(function(){return null})),r})),g=j[0],O=j[1],p=Object(a.useState)((function(){var e,n,r=g.getCurrentResult();return!r.loading&&t&&(r.error?null===(e=t.onError)||void 0===e||e.call(t,r.error):r.data&&(null===(n=t.onCompleted)||void 0===n||n.call(t,r.data))),r})),y=p[0],v=p[1],h=Object(a.useRef)({client:m,query:e,options:t,result:y,previousData:void 0,watchQueryOptions:b(e,t)});Object(a.useEffect)((function(){var n,r,a,i=b(e,t);if(h.current.client===m&&Object(c.a)(h.current.query,e))Object(c.a)(h.current.watchQueryOptions,i)||(g.setOptions(i).catch((function(){})),a=g.getCurrentResult(),h.current.watchQueryOptions=i);else{var o=m.watchQuery(i);O(o),a=o.getCurrentResult()}if(a){var l=h.current.result;l.data&&(h.current.previousData=l.data),v(h.current.result=a),!a.loading&&t&&(y.loading||(y.error?null===(n=t.onError)||void 0===n||n.call(t,y.error):y.data&&(null===(r=t.onCompleted)||void 0===r||r.call(t,y.data))))}Object.assign(h.current,{client:m,query:e})}),[g,m,e,t]),Object(a.useEffect)((function(){if(!u.renderPromises){var e=g.subscribe(t,(function n(r){var a,i,o=g.last;e.unsubscribe();try{g.resetLastResults(),e=g.subscribe(t,n)}finally{g.last=o}if(!r.hasOwnProperty("graphQLErrors"))throw r;var d=h.current.result;(d&&d.loading||!Object(c.a)(r,d.error))&&(v(h.current.result={data:d.data,error:r,loading:!1,networkStatus:l.a.error}),null===(i=null===(a=h.current.options)||void 0===a?void 0:a.onError)||void 0===i||i.call(a,r))}));return function(){return e.unsubscribe()}}function t(){var e,t,n=h.current.result,r=g.getCurrentResult();n&&n.loading===r.loading&&n.networkStatus===r.networkStatus&&Object(c.a)(n.data,r.data)||(n.data&&(h.current.previousData=n.data),v(h.current.result=r),r.loading||null===(t=null===(e=h.current.options)||void 0===e?void 0:e.onCompleted)||void 0===t||t.call(e,r.data))}}),[g,u.renderPromises,m.disableNetworkFetches]),f=(n=y).partial,y=Object(r.f)(n,["partial"]),!f||!(null===t||void 0===t?void 0:t.partialRefetch)||y.loading||y.data&&0!==Object.keys(y.data).length||"cache-only"===g.options.fetchPolicy||(y=Object(r.a)(Object(r.a)({},y),{loading:!0,networkStatus:l.a.refetch}),g.refetch()),u.renderPromises&&!1!==(null===t||void 0===t?void 0:t.ssr)&&!(null===t||void 0===t?void 0:t.skip)&&y.loading&&g.setOptions(b(e,t)).catch((function(){})),Object.assign(h.current,{options:t}),(u.renderPromises||m.disableNetworkFetches)&&!1===(null===t||void 0===t?void 0:t.ssr)?y=h.current.result={loading:!0,data:void 0,error:void 0,networkStatus:l.a.loading}:((null===t||void 0===t?void 0:t.skip)||"standby"===(null===t||void 0===t?void 0:t.fetchPolicy))&&(y={loading:!1,data:void 0,error:void 0,networkStatus:l.a.ready}),y.errors&&y.errors.length&&(y=Object(r.a)(Object(r.a)({},y),{error:y.error||new o.a({graphQLErrors:y.errors})}));var $=Object(a.useMemo)((function(){return{refetch:g.refetch.bind(g),fetchMore:g.fetchMore.bind(g),updateQuery:g.updateQuery.bind(g),startPolling:g.startPolling.bind(g),stopPolling:g.stopPolling.bind(g),subscribeToMore:g.subscribeToMore.bind(g)}}),[g]);return Object(r.a)(Object(r.a)(Object(r.a)({},$),{variables:b(e,t).variables,client:m,called:!0,previousData:h.current.previousData}),y)}function b(e,t){var n;void 0===t&&(t={});var a=t.skip,c=(t.ssr,t.onCompleted,t.onError,t.displayName,Object(r.f)(t,["skip","ssr","onCompleted","onError","displayName"]));return a?c.fetchPolicy="standby":(!(null===(n=c.context)||void 0===n?void 0:n.renderPromises)||"network-only"!==c.fetchPolicy&&"cache-and-network"!==c.fetchPolicy)&&c.fetchPolicy||(c.fetchPolicy="cache-first"),c.variables||(c.variables={}),Object(r.a)({query:e},c)}},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(88),a=n(89),c=n(93),i=n(2),o=n(86),l=n.n(o),d=n(109),s=n(135),u=n(100),b=n(156),m=n(6);function f(e){return void 0!==e&&null!==e}var j=function(e){var t,n=e.itemPrefixCls,a=e.component,c=e.span,o=e.className,d=e.style,s=e.labelStyle,u=e.contentStyle,b=e.bordered,m=e.label,j=e.content,g=e.colon,O=a;return b?i.createElement(O,{className:l()((t={},Object(r.a)(t,"".concat(n,"-item-label"),f(m)),Object(r.a)(t,"".concat(n,"-item-content"),f(j)),t),o),style:d,colSpan:c},f(m)&&i.createElement("span",{style:s},m),f(j)&&i.createElement("span",{style:u},j)):i.createElement(O,{className:l()("".concat(n,"-item"),o),style:d,colSpan:c},i.createElement("div",{className:"".concat(n,"-item-container")},m&&i.createElement("span",{className:l()("".concat(n,"-item-label"),Object(r.a)({},"".concat(n,"-item-no-colon"),!g)),style:s},m),j&&i.createElement("span",{className:l()("".concat(n,"-item-content")),style:u},j)))};function g(e,t,n){var r=t.colon,a=t.prefixCls,c=t.bordered,o=n.component,l=n.type,d=n.showLabel,s=n.showContent,u=n.labelStyle,b=n.contentStyle;return e.map((function(e,t){var n=e.props,f=n.label,g=n.children,O=n.prefixCls,p=void 0===O?a:O,y=n.className,v=n.style,h=n.labelStyle,$=n.contentStyle,k=n.span,S=void 0===k?1:k,x=e.key;return"string"===typeof o?i.createElement(j,{key:"".concat(l,"-").concat(x||t),className:y,style:v,labelStyle:Object(m.a)(Object(m.a)({},u),h),contentStyle:Object(m.a)(Object(m.a)({},b),$),span:S,colon:r,component:o,itemPrefixCls:p,bordered:c,label:d?f:null,content:s?g:null}):[i.createElement(j,{key:"label-".concat(x||t),className:y,style:Object(m.a)(Object(m.a)(Object(m.a)({},u),v),h),span:1,colon:r,component:o[0],itemPrefixCls:p,bordered:c,label:f}),i.createElement(j,{key:"content-".concat(x||t),className:y,style:Object(m.a)(Object(m.a)(Object(m.a)({},b),v),$),span:2*S-1,component:o[1],itemPrefixCls:p,bordered:c,content:g})]}))}var O=function(e){var t=i.useContext(v),n=e.prefixCls,r=e.vertical,a=e.row,c=e.index,o=e.bordered;return r?i.createElement(i.Fragment,null,i.createElement("tr",{key:"label-".concat(c),className:"".concat(n,"-row")},g(a,e,Object(m.a)({component:"th",type:"label",showLabel:!0},t))),i.createElement("tr",{key:"content-".concat(c),className:"".concat(n,"-row")},g(a,e,Object(m.a)({component:"td",type:"content",showContent:!0},t)))):i.createElement("tr",{key:c,className:"".concat(n,"-row")},g(a,e,Object(m.a)({component:o?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},p=function(e){return e.children},y=n(106),v=i.createContext({}),h={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function $(e,t,n){var r=e;return(void 0===t||t>n)&&(r=Object(y.a)(e,{span:n}),Object(u.a)(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),r}function k(e){var t,n=e.prefixCls,o=e.title,u=e.extra,m=e.column,f=void 0===m?h:m,j=e.colon,g=void 0===j||j,p=e.bordered,y=e.layout,k=e.children,S=e.className,x=e.style,w=e.size,I=e.labelStyle,B=e.contentStyle,N=i.useContext(b.b),E=N.getPrefixCls,C=N.direction,P=E("descriptions",n),A=i.useState({}),L=Object(a.a)(A,2),F=L[0],M=L[1],D=function(e,t){if("number"===typeof e)return e;if("object"===Object(c.a)(e))for(var n=0;n<s.b.length;n++){var r=s.b[n];if(t[r]&&void 0!==e[r])return e[r]||h[r]}return 3}(f,F);i.useEffect((function(){var e=s.a.subscribe((function(e){"object"===Object(c.a)(f)&&M(e)}));return function(){s.a.unsubscribe(e)}}),[]);var Q=function(e,t){var n=Object(d.a)(e).filter((function(e){return e})),r=[],a=[],c=t;return n.forEach((function(e,i){var o,l=null===(o=e.props)||void 0===o?void 0:o.span,d=l||1;if(i===n.length-1)return a.push($(e,l,c)),void r.push(a);d<c?(c-=d,a.push(e)):(a.push($(e,d,c)),r.push(a),c=t,a=[])})),r}(k,D),R=i.useMemo((function(){return{labelStyle:I,contentStyle:B}}),[I,B]);return i.createElement(v.Provider,{value:R},i.createElement("div",{className:l()(P,(t={},Object(r.a)(t,"".concat(P,"-").concat(w),w&&"default"!==w),Object(r.a)(t,"".concat(P,"-bordered"),!!p),Object(r.a)(t,"".concat(P,"-rtl"),"rtl"===C),t),S),style:x},(o||u)&&i.createElement("div",{className:"".concat(P,"-header")},o&&i.createElement("div",{className:"".concat(P,"-title")},o),u&&i.createElement("div",{className:"".concat(P,"-extra")},u)),i.createElement("div",{className:"".concat(P,"-view")},i.createElement("table",null,i.createElement("tbody",null,Q.map((function(e,t){return i.createElement(O,{key:t,index:t,colon:g,prefixCls:P,vertical:"vertical"===y,bordered:p,row:e})})))))))}k.Item=p;t.b=k},423:function(e,t,n){"use strict";n.r(t);var r,a,c,i=n(89),o=n(2),l=n(153),d=n.n(l),s=n(4),u=n(130),b=n(163),m=n(116),f=n(208),j=n(416),g=n(95),O=n(104),p=n(175),y=(O.a.div(r||(r=Object(g.a)(["\n  background-image: url(",");\n  width: 100%;\n  height: 300px;\n  background-size: contain;\n"])),(function(e){return e.url})),O.a.div(a||(a=Object(g.a)(["\n  & .button-group {\n    display: flex;\n    align-items: center;\n  }\n"])))),v=Object(O.a)(p.a)(c||(c=Object(g.a)(["\n  margin: 15px 0;\n  margin-right: 15px;\n"]))),h=n(103),$=n(44),k=n(45),S=n(121),x=n(11);t.default=function(){var e=Object(s.h)().search,t=Object(s.i)().param,n=Object(s.g)(),r=d.a.parse(e),a=r.id,c=r.category,l=Object(o.useState)(),g=Object(i.a)(l,2),O=g[0],p=g[1],w=Object(o.useState)(),I=Object(i.a)(w,2),B=I[0],N=I[1],E=Object(o.useState)(),C=Object(i.a)(E,2),P=C[0],A=C[1],L=Object(u.a)(m.b,{variables:{id:parseInt(a,10)}}),F=L.data,M=L.loading,D=Object(b.a)(h.e,{onCompleted:function(e){var r=e.deleteBoard,a=r.ok,i=r.err;a?($.b.success("\uac8c\uc2dc\ubb3c\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),n.push({pathname:"/admin/".concat(t,"/").concat(c),state:{refresh:!0}})):(console.log(i),$.b.error("\uac8c\uc2dc\ubb3c\uc744 \uc0ad\uc81c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"))}}),Q=Object(i.a)(D,1)[0],R=Object(o.useCallback)((function(){Q({variables:{id:parseInt(a,10)}})}),[a,Q]);return Object(o.useEffect)((function(){F&&F.getBoardById&&F.getBoardById.data&&p(F.getBoardById.data),F&&F.getBoardById&&F.getBoardById.data&&F.getBoardById.data.files&&N(F.getBoardById.data.files),F&&F.getBoardById&&F.getBoardById.data&&F.getBoardById.data.images&&A(F.getBoardById.data.images)}),[F]),M?Object(x.jsx)(x.Fragment,{children:"loading"}):Object(x.jsxs)(y,{children:[Object(x.jsx)(v,{type:"ghost",onClick:function(){return n.goBack()},children:"\ub4a4\ub85c"}),Object(x.jsxs)(f.b,{bordered:!0,layout:"horizontal",style:{display:"flex",flexDirection:"column"},children:[Object(x.jsx)(f.b.Item,{label:"\uc81c\ubaa9",span:3,labelStyle:{width:100},children:Object(x.jsx)(j.a.Title,{level:3,children:null===O||void 0===O?void 0:O.title})}),Object(x.jsx)(f.b.Item,{label:"\uc791\uc131\uc77c",span:3,labelStyle:{width:100},children:Object(S.a)((null===O||void 0===O?void 0:O.createdAt)||"")}),Object(x.jsx)(f.b.Item,{label:"\ud30c\uc77c",span:3,labelStyle:{width:100},children:B&&0!==B.length?Object(x.jsx)(x.Fragment,{children:B.map((function(e,t){return Object(x.jsx)("span",{style:{display:"inline-block"},children:Object(x.jsx)("a",{href:null===e||void 0===e?void 0:e.url,download:!0,target:"_blank",rel:"noreferrer",children:null===e||void 0===e?void 0:e.fileName})},t)}))}):Object(x.jsx)(x.Fragment,{children:"\ucca8\ubd80\ud30c\uc77c \uc5c6\uc74c"})}),"achievement"===t&&Object(x.jsx)(f.b.Item,{label:"\uc774\ubbf8\uc9c0",span:4,labelStyle:{width:100},children:P&&0!==P.length?Object(x.jsx)("img",{src:P[P.length-1].url,alt:"newsimage",width:300}):Object(x.jsx)(x.Fragment,{children:"\uc774\ubbf8\uc9c0 \uc5c6\uc74c"})}),Object(x.jsx)(f.b.Item,{label:"\ub0b4\uc6a9",span:4,children:Object(x.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:null===O||void 0===O?void 0:O.content})})]}),Object(x.jsxs)("div",{className:"button-group",children:[Object(x.jsx)(k.b,{to:"/admin/".concat(t,"/edit-").concat(t,"?category=").concat(c,"&id=").concat(a),children:Object(x.jsx)(v,{type:"primary",children:"\uc218\uc815"})}),Object(x.jsx)(v,{type:"primary",danger:!0,onClick:R,children:"\uc0ad\uc81c"})]})]})}}}]);
//# sourceMappingURL=23.f95b3e81.chunk.js.map