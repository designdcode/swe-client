(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[21],{118:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=new Date(1e3*Math.floor(parseInt(e,10)/1e3));return t.getFullYear()+"-"+(t.getMonth()+1>=10?t.getMonth()+1:"0".concat(t.getMonth()+1))+"-"+(t.getDate()>=10?t.getDate():"0".concat(t.getDate()))}},122:function(e,t,n){"use strict";var r=n(88),a=n(2),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},i=n(91),o=function(e,t){return a.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:c}))};o.displayName="CloseOutlined";t.a=a.forwardRef(o)},131:function(e,t,n){"use strict";var r;function a(e){if("undefined"===typeof document)return 0;if(e||void 0===r){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),a=n.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var c=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;c===i&&(i=n.clientWidth),document.body.removeChild(n),r=c-i}return r}function c(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?a():n}function i(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:c(n),height:c(r)}}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}))},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(89),a=n(2);function c(){var e=a.useReducer((function(e){return e+1}),0);return Object(r.a)(e,2)[1]}},402:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(6),a=n(87),c=n(89),i=n(2),o=n(86),l=n.n(o),d=n(106),s=n(153);function u(e){var t=e.className,n=e.direction,c=e.index,o=e.marginDirection,l=e.children,d=e.split,s=e.wrap,u=i.useContext(p),f=u.horizontalSize,b=u.verticalSize,v=u.latestIndex,h={};return u.supportFlexGap||("vertical"===n?c<v&&(h={marginBottom:f/(d?2:1)}):h=Object(r.a)(Object(r.a)({},c<v&&Object(a.a)({},o,f/(d?2:1))),s&&{paddingBottom:b})),null===l||void 0===l?null:i.createElement(i.Fragment,null,i.createElement("div",{className:t,style:h},l),c<v&&d&&i.createElement("span",{className:"".concat(t,"-split"),style:h},d))}var f=n(188),b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},p=i.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),v={small:8,middle:16,large:24};t.b=function(e){var t,n=i.useContext(s.b),o=n.getPrefixCls,h=n.space,m=n.direction,j=e.size,O=void 0===j?(null===h||void 0===h?void 0:h.size)||"small":j,g=e.align,y=e.className,x=e.children,w=e.direction,E=void 0===w?"horizontal":w,C=e.prefixCls,z=e.split,B=e.style,N=e.wrap,S=void 0!==N&&N,k=b(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),M=Object(f.a)(),P=i.useMemo((function(){return(Array.isArray(O)?O:[O,O]).map((function(e){return function(e){return"string"===typeof e?v[e]:e||0}(e)}))}),[O]),A=Object(c.a)(P,2),I=A[0],D=A[1],F=Object(d.a)(x,{keepEmpty:!0}),G=void 0===g&&"horizontal"===E?"center":g,L=o("space",C),W=l()(L,"".concat(L,"-").concat(E),(t={},Object(a.a)(t,"".concat(L,"-rtl"),"rtl"===m),Object(a.a)(t,"".concat(L,"-align-").concat(G),G),t),y),R="".concat(L,"-item"),J="rtl"===m?"marginLeft":"marginRight",T=0,H=F.map((function(e,t){return null!==e&&void 0!==e&&(T=t),i.createElement(u,{className:R,key:"".concat(R,"-").concat(t),direction:E,index:t,marginDirection:J,split:z,wrap:S},e)})),K=i.useMemo((function(){return{horizontalSize:I,verticalSize:D,latestIndex:T,supportFlexGap:M}}),[I,D,T,M]);if(0===F.length)return null;var Q={};return S&&(Q.flexWrap="wrap",M||(Q.marginBottom=-D)),M&&(Q.columnGap=I,Q.rowGap=D),i.createElement("div",Object(r.a)({className:W,style:Object(r.a)(Object(r.a)({},Q),B)},k),i.createElement(p.Provider,{value:K},H))}},422:function(e,t,n){"use strict";n.r(t);var r=n(89),a=n(0),c=n(2),i=n(197),o=["refetch","fetchMore","updateQuery","startPolling","subscribeToMore"];var l,d=n(405),s=n(174),u=n(412),f=n(402),b=n(205),p=n.n(b),v=n(4),h=n(45),m=n(44),j=n(108),O=n(118),g=n(96),y=n(103).a.div(l||(l=Object(g.a)([""]))),x=n(11);t.default=function(){var e=Object(v.i)(),t=e.param,n=e.subparam,l=Object(v.h)().state,b=Object(c.useState)(),g=Object(r.a)(b,2),w=g[0],E=g[1],C=function(e,t){var n=Object(c.useState)({called:!1,resolves:[]}),r=n[0],l=n[1],d=Object(c.useCallback)((function(e){var t,n=new Promise((function(e){return t=e}));return l((function(n){return n.called&&s&&s.refetch(null===e||void 0===e?void 0:e.variables),{called:!0,resolves:Object(a.g)(Object(a.g)([],n.resolves,!0),[t],!1),options:e}})),n}),[]),s=Object(i.a)(e,Object(a.a)(Object(a.a)(Object(a.a)({},t),r.options),{fetchPolicy:r.called?null===t||void 0===t?void 0:t.fetchPolicy:"standby",skip:void 0}));if(Object(c.useEffect)((function(){var e=r.resolves;!s.loading&&e.length&&(l((function(e){return Object(a.a)(Object(a.a)({},e),{resolves:[]})})),e.forEach((function(e){return e(s)})))}),[s,r]),!r.called){s=Object(a.a)(Object(a.a)({},s),{loading:!1,data:void 0,error:void 0,called:!1});for(var u=function(e){var t=s[e];s[e]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l((function(e){return Object(a.a)(Object(a.a)({},e),{called:!0})})),t.apply(void 0,e)}},f=0,b=o;f<b.length;f++)u(b[f])}return[d,s]}(j.i),z=Object(r.a)(C,2),B=z[0],N=z[1],S=N.loading,k=N.data,M=N.refetch,P=Object(d.a)(j.d,{onCompleted:function(e){var t=e.deleteBoard,n=t.ok,r=t.err;n?(m.b.success("\uac8c\uc2dc\ubb3c\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),M&&M()):m.b.error(r)}}),A=Object(r.a)(P,1)[0];return Object(c.useEffect)((function(){B({variables:{category:n}})}),[B,n]),Object(c.useEffect)((function(){var e=function(){M&&M()};return l&&l.refresh&&e(),function(){return e()}}),[M,l]),Object(c.useEffect)((function(){if(k&&k.getBoardByCategory&&k.getBoardByCategory.data){var e=k.getBoardByCategory.data,t=[];e.map((function(n,r){var a={id:n.id,index:e.length-r,title:n.title,createdAt:Object(O.a)(n.createdAt||""),category:n.category};return t.push(a)})),E(t)}}),[k]),S?Object(x.jsx)(x.Fragment,{children:"loading"}):Object(x.jsxs)(y,{children:[Object(x.jsx)(h.b,{to:"/admin/".concat(t,"/create-").concat(t,"?category=").concat(n,"&param=").concat(t,"&subparam=").concat(n),children:Object(x.jsx)(s.a,{type:"primary",style:{marginTop:15,marginBottom:20},children:"\uae00\uc4f0\uae30"})}),Object(x.jsxs)(u.a,{dataSource:w,rowKey:"id",children:[Object(x.jsx)(p.a,{title:"\ubc88\ud638",dataIndex:"index",width:80},"index"),Object(x.jsx)(p.a,{title:"\uc81c\ubaa9",dataIndex:"title",ellipsis:!0,render:function(e,r){return Object(x.jsx)(f.b,{children:Object(x.jsx)(h.b,{to:"/admin/".concat(t,"/detail-").concat(t,"?category=").concat(n,"&id=").concat(r.id),children:e})})}},"title"),Object(x.jsx)(p.a,{title:"\uc791\uc131\uc77c",dataIndex:"createdAt",width:150},"createdAt"),Object(x.jsx)(p.a,{title:"Action",width:150,render:function(e,t){return Object(x.jsx)(f.b,{size:"middle",children:Object(x.jsx)(s.a,{type:"primary",danger:!0,onClick:function(){return A({variables:{id:t.id}})},children:"\uc0ad\uc81c"})})}},"action")]})]})}}}]);
//# sourceMappingURL=21.4ccb62e7.chunk.js.map