(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[25],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return $})),n.d(t,"d",(function(){return v})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return I})),n.d(t,"g",(function(){return w})),n.d(t,"i",(function(){return C}));var i,a,c,r,l,o,u,s,d,b,j,f,m,O,p=n(93),g=n(473),h=Object(g.a)(i||(i=Object(p.a)(["\n  mutation createBoard(\n    $title: String\n    $content: String\n    $category: String!\n    $files: [AttachModel]\n    $images: [AttachModel]\n    $link: String\n    $type: String\n    $private: Boolean\n  ) {\n    createBoard(\n      title: $title\n      content: $content\n      category: $category\n      files: $files\n      images: $images\n      link: $link\n      type: $type\n      private: $private\n    ) {\n      ok\n      err\n    }\n  }\n"]))),$=Object(g.a)(a||(a=Object(p.a)(["\n  query getBoardByCategory($category: String!) {\n    getBoardByCategory(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        private\n        type\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),v=Object(g.a)(c||(c=Object(p.a)(["\n  mutation deleteBoard($id: Int!) {\n    deleteBoard(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),x=Object(g.a)(r||(r=Object(p.a)(["\n  mutation editBoard(\n    $id: Int!\n    $title: String\n    $content: String\n    $link: String\n    $private: Boolean\n    $type: String\n  ) {\n    editBoard(\n      id: $id\n      title: $title\n      content: $content\n      link: $link\n      private: $private\n      type: $type\n    ) {\n      ok\n      err\n    }\n  }\n"]))),k=(Object(g.a)(l||(l=Object(p.a)(["\n  mutation editFile($id: Int!, $url: String!, $fileName: String!) {\n    editFile(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(g.a)(o||(o=Object(p.a)(["\n  mutation editImage($id: Int!, $url: String!, $fileName: String!) {\n    editImage(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(g.a)(u||(u=Object(p.a)(["\n  mutation deleteFile($id: Int!) {\n    deleteFile(id: $id) {\n      ok\n      err\n    }\n  }\n"])))),y=Object(g.a)(s||(s=Object(p.a)(["\n  mutation deleteImage($id: Int!) {\n    deleteImage(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),S=Object(g.a)(d||(d=Object(p.a)(["\n  mutation createFile($url: String!, $fileName: String!, $boardId: Int!) {\n    createFile(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),I=Object(g.a)(b||(b=Object(p.a)(["\n  mutation createImage($url: String!, $fileName: String!, $boardId: Int!) {\n    createImage(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),w=(Object(g.a)(j||(j=Object(p.a)(["\n  mutation createLink($title: String!, $url: String!) {\n    createLink(title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),Object(g.a)(f||(f=Object(p.a)(["\n  mutation deleteLink($id: Int!) {\n    deleteLink(id: $id) {\n      ok\n      err\n    }\n  }\n"])))),C=(Object(g.a)(m||(m=Object(p.a)(["\n  mutation editLink($id: Int!, $title: String, $url: String) {\n    editLink(id: $id, title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),Object(g.a)(O||(O=Object(p.a)(["\n  mutation editPopup($up: String!, $url: String) {\n    editPopup(up: $up, url: $url) {\n      ok\n      err\n    }\n  }\n"]))))},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(128);n(179);i.a.initializeApp({apiKey:"AIzaSyDM5Cqu1m1YJ7E44OfM9Yo3LH0ZUN8Y6x4",authDomain:"sunmoon-swe.firebaseapp.com",projectId:"sunmoon-swe",storageBucket:"sunmoon-swe.appspot.com",messagingSenderId:"1064857281018",appId:"1:1064857281018:web:b2881ce151e1a16b068443",measurementId:"G-JYK8JT1WEN"});var a=i.a.storage()},132:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var i=function(e){return"storage"===(null===e||void 0===e?void 0:e.toString().split("-")[0])},a=function(e){switch(null===e||void 0===e?void 0:e.toString().split("-")[0]){case"storage":case"achievement":return!0;default:return!1}},c=function(e){switch(null===e||void 0===e?void 0:e.toString().split("-")[1]){case"aidnews":case"valuenews":case"coopnews":return!0;default:return!1}},r=function(e){switch(null===e||void 0===e?void 0:e.toString().split("-")[0]){case"storage":case"achievement":return!0;default:return!1}},l=function(e){return"introduce"!==(null===e||void 0===e?void 0:e.toString().split("-")[0])}},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(44),a=n(111),c=function(e,t,n,c){a.a.ref("/".concat(e,"/").concat(t,"/").concat(n)).delete().then((function(){c("")})).catch((function(e){return i.b.error(e)}))}},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(113),a=n(110),c=n.n(a),r=n(44),l=n(111),o=function(e,t,n,a,o,u,s,d,b){l.a.ref("/".concat(e,"/").concat(n,"/").concat(a)).put(t).on("state_changed",(function(e){}),(function(e){return console.log(e)}),(function(){s(1),l.a.ref("/".concat(e,"/").concat(n,"/").concat(a)).getDownloadURL().then(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(t),!d||!b){e.next=4;break}return e.next=4,d({variables:{url:t,fileName:a,boardId:b}});case 4:r.b.success("\ud30c\uc77c / \uc774\ubbf8\uc9c0\uac00 \uc5c5\ub85c\ub4dc \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),s(0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},481:function(e,t,n){"use strict";n.r(t);var i,a,c=n(93),r=n(89),l=n(92),o=n(113),u=n(88),s=n(110),d=n.n(s),b=n(2),j=n(138),f=n.n(j),m=n(135),O=n(101),p=O.a.div(i||(i=Object(c.a)(["\n  & .link-checkbox {\n    margin: 20px;\n    margin-left: 40px;\n  }\n\n  & .upload-list-inline {\n    width: 200px;\n    margin-right: 8px;\n  }\n\n  & .ant-upload-list-picture-container {\n    width: 300px;\n  }\n  & .ant-upload-list-item-info {\n    width: 300px;\n  }\n"]))),g=n(239),h=n(471),$=n(453),v=n(310),x=n(232),k=n(201),y=n(203),S=n(468),I=n(173),w=n(102),C=n(44),N=n(4),B=n(132),L=n(485),F=n(133),A=n(158),M=n(157),q=n(111),R=n(410),U=n.n(R),J=(n(451),n(11)),D={wrapperCol:{span:16}},E={toolbar:[[{header:[1,2,!1]}],["bold","italic"],[{list:"ordered"},{list:"bullet"}],["clean"]]},T=["header","bold","italic","underline","list"],Y=(t.default=function(){var e=Object(N.g)(),t=Object(N.h)().search,n=f.a.parse(t),i=n.category,a=n.param,c=n.subparam,s=Object(m.a)(""),j=Object(u.a)(s,3),O=j[0],R=j[1],U=j[2],z=Object(b.useState)(""),K=Object(u.a)(z,2),P=K[0],_=K[1],G=Object(m.a)(""),H=Object(u.a)(G,3),V=H[0],W=H[1],Z=H[2],Q=Object(b.useState)(!1),X=Object(u.a)(Q,2),ee=X[0],te=X[1],ne=Object(b.useState)(),ie=Object(u.a)(ne,2),ae=ie[0],ce=ie[1],re=Object(b.useState)(),le=Object(u.a)(re,2),oe=le[0],ue=le[1],se=Object(b.useState)([]),de=Object(u.a)(se,2),be=de[0],je=de[1],fe=Object(b.useState)(!1),me=Object(u.a)(fe,2),Oe=me[0],pe=me[1],ge=Object(b.useState)(!1),he=Object(u.a)(ge,2),$e=he[0],ve=he[1],xe=Object(b.useState)(!1),ke=Object(u.a)(xe,2),ye=ke[0],Se=ke[1],Ie=Object(b.useState)(!0),we=Object(u.a)(Ie,2),Ce=we[0],Ne=we[1],Be=Object(b.useState)(!1),Le=Object(u.a)(Be,2),Fe=Le[0],Ae=Le[1],Me=Object(b.useState)(!0),qe=Object(u.a)(Me,2),Re=qe[0],Ue=qe[1],Je=Object(b.useState)(0),De=Object(u.a)(Je,2),Ee=De[0],Te=De[1],Ye=Object(b.useState)(),ze=Object(u.a)(Ye,2),Ke=ze[0],Pe=ze[1];Object(b.useEffect)((function(){Se(Object(B.c)(c)),pe(Object(B.d)(c)),ve(Object(B.b)(c)),Ne(Object(B.a)(c)),Ae(Object(B.e)(c))}),[c]);var _e=Object(I.a)(w.a,{onCompleted:function(t){var n=t.createBoard,i=n.ok,r=n.err;i?(U(""),_(""),Z(""),ce(""),C.b.success("\uac8c\uc2dc\ubb3c\uc744 \uc0dd\uc131 \ud558\uc600\uc2b5\ub2c8\ub2e4"),e.push({pathname:"/admin/".concat(a,"/").concat(c),state:{refresh:!0}})):(console.log(r),C.b.error("\uac8c\uc2dc\ubb3c\uc744 \uc0dd\uc131 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"))}}),Ge=Object(u.a)(_e,2),He=Ge[0],Ve=Ge[1].loading,We=Object(b.useCallback)((function(){te(!ee),ee||Z("")}),[ee,Z,te]),Ze=Object(b.useCallback)(Object(o.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===be.length){e.next=5;break}return e.next=3,He({variables:{title:O.trim()?O:null,content:P.trim()?P:null,link:V.trim()?V:null,category:i,files:0!==be.length?be:null,images:null!==ae&&void 0!==ae&&ae.trim()?[{url:ae,fileName:oe}]:null,private:Re,type:null===Ke||void 0===Ke?void 0:Ke.type}});case 3:case 8:e.next=12;break;case 5:if(!ae){e.next=10;break}return e.next=8,He({variables:{title:O.trim()?O:null,content:P.trim()?P:null,link:V.trim()?V:null,category:i,files:null,images:null!==ae&&void 0!==ae&&ae.trim()?[{url:ae,fileName:oe}]:null,private:Re,type:null===Ke||void 0===Ke?void 0:Ke.type}});case 10:return e.next=12,He({variables:{title:O.trim()?O:null,content:P.trim()?P:null,link:V.trim()?V:null,private:Re,category:i,type:null===Ke||void 0===Ke?void 0:Ke.type}});case 12:case"end":return e.stop()}}),e)}))),[O,P,V,He,i,be,oe,ae,Re,Ke]),Qe=Object(b.useCallback)((function(e){Te(Ee+1);var t=e.name;ue(e.name),Object(A.a)("images",e,i,t,ce,Ee,Te)}),[i,Ee]),Xe=Object(b.useCallback)((function(e){Te(Ee+1),q.a.ref("/files/".concat(i,"/").concat(e.name)).put(e).on("state_changed",(function(e){}),(function(e){return console.log(e)}),(function(){q.a.ref("/files/".concat(i,"/").concat(e.name)).getDownloadURL().then((function(t){je((function(n){return[].concat(Object(l.a)(n),[{url:t,fileName:e.name}])})),C.b.success("\ud30c\uc77c / \uc774\ubbf8\uc9c0\uac00 \uc5c5\ub85c\ub4dc \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),Te(Ee-1)}))}))}),[i,Ee]),et=Object(b.useCallback)((function(){oe&&oe.trim()&&Object(M.a)("images",i,oe,ce)}),[i,oe]),tt=Object(b.useCallback)((function(e){q.a.ref("/files/".concat(i,"/").concat(e.name)).delete().then((function(){C.b.success("\uc5c5\ub85c\ub4dc \ub41c \ud30c\uc77c/\uc774\ubbf8\uc9c0\uac00 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),je(be.filter((function(t){return t.fileName!==e.name})))})).catch((function(e){return C.b.error(e)}))}),[i,be]),nt=Object(b.useMemo)((function(){return Object(J.jsx)(g.a,{style:{width:150},children:Object(J.jsx)(g.a.Item,{children:Object(J.jsx)("div",{onClick:function(){return Pe({type:"test",title:"\ud14c\uc2a4\ud2b8"})},children:"\ud14c\uc2a4\ud2b8"})},"0")})}),[]),it=Object(b.useMemo)((function(){return Object(J.jsxs)(g.a,{style:{width:150},children:[Object(J.jsx)(g.a.Item,{children:Object(J.jsx)("div",{onClick:function(){return Pe({type:"edu",title:"\uc218\uc694\uc911\uc2ec"})},children:"\uc218\uc694\uc911\uc2ec"})},"0"),Object(J.jsx)(g.a.Item,{children:Object(J.jsx)("div",{onClick:function(){return Pe({type:"training",title:"\uc120\ub3c4\uc790\uc591\uc131"})},children:"\uc120\ub3c4\uc790\uc591\uc131"})},"1"),Object(J.jsx)(g.a.Item,{children:Object(J.jsx)("div",{onClick:function(){return Pe({type:"share",title:"\uac00\uce58\uacf5\uc720"})},children:"\uac00\uce58\uacf5\uc720"})},"2")]})}),[]),at=Object(b.useMemo)((function(){return Object(J.jsxs)(g.a,{style:{width:150},children:[Object(J.jsx)(g.a.Item,{children:Object(J.jsx)("div",{onClick:function(){return Pe({type:"network",title:"\uae30\uad00 \ub124\ud2b8\uc6cc\ud06c"})},children:"\uae30\uad00 \ub124\ud2b8\uc6cc\ud06c"})},"0"),Object(J.jsx)(g.a.Item,{children:Object(J.jsx)("div",{onClick:function(){return Pe({type:"project",title:"\uae30\uad00 \ud504\ub85c\uc81d\ud2b8"})},children:"\uae30\uad00 \ud504\ub85c\uc81d\ud2b8"})},"1"),Object(J.jsx)(g.a.Item,{children:Object(J.jsx)("div",{onClick:function(){return Pe({type:"internship",title:"\uae30\uad00 \uc778\ud134\uc27d"})},children:"\uae30\uad00 \uc778\ud134\uc27d"})},"2")]})}),[]),ct=Object(b.useCallback)((function(e){switch(e){case"coopnews":return at;case"valuenews":return it;default:return nt}}),[at,it,nt]);return Object(b.useEffect)((function(){Ee<0&&Te(0)}),[Ee]),Object(J.jsx)(p,{children:Object(J.jsxs)(h.a,Object(r.a)(Object(r.a)({},D),{},{name:"upload-board",onFinish:Ze,children:[Object(J.jsx)(h.a.Item,{name:["title"],label:"\uc81c\ubaa9",children:Object(J.jsx)($.a,{type:"text",onChange:R,value:O})}),Object(J.jsxs)(h.a.Item,{name:["checked"],label:"\uacf5\uac1c / \ube44\uacf5\uac1c",children:[Object(J.jsx)(v.a,{defaultChecked:!0,onChange:function(){return Ue(!Re)}}),Object(J.jsx)("span",{style:{marginLeft:15},children:Re?"\uacf5\uac1c":"\ube44\uacf5\uac1c"})]}),Fe&&Object(J.jsx)(h.a.Item,{name:["type"],label:"\ub300\ubd84\ub958",children:Object(J.jsx)(x.a,{overlay:function(){return ct(null===c||void 0===c?void 0:c.toString().split("-")[1])},trigger:["click"],children:Object(J.jsxs)(k.a,{children:[Ke?Ke.title:"\uc120\ud0dd\ud558\uae30","\u2002\u2002\u2228"]})})}),Oe&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{className:"link-checkbox",children:Object(J.jsx)(y.a,{onChange:We,children:ee?"\ub9c1\ud06c\uc81c\uac70":"\ub9c1\ud06c\ucd94\uac00"})}),ee&&Object(J.jsx)(h.a.Item,{name:["link"],label:"\ub9c1\ud06c",children:Object(J.jsx)($.a,{type:"text",onChange:W,value:V})})]}),ye&&Object(J.jsx)(h.a.Item,{name:["image"],label:"\uc774\ubbf8\uc9c0",children:Object(J.jsx)(S.a,{style:{marginBottom:20},listType:"picture",customRequest:function(e){var t=e.file;return Qe(t)},progress:{showInfo:!0},onChange:function(e){var t=e.file;t.status=""!==ae?"done":"removed"},className:"upload-list-inline",maxCount:1,onRemove:function(){return et()},children:Object(J.jsx)(k.a,{icon:Object(J.jsx)(L.a,{}),children:"Upload"})})}),$e&&Object(J.jsx)(h.a.Item,{name:["file"],label:"\ud30c\uc77c",children:Object(J.jsx)(S.a,{multiple:!0,customRequest:function(e){var t=e.file;return Xe(t)},maxCount:4,onChange:function(e){var t=e.file;0!==be.length?t.status="done":t.status="removed"},onRemove:function(e){return tt(e)},children:Object(J.jsx)(k.a,{style:{marginBottom:20},icon:Object(J.jsx)(L.a,{}),children:"Upload"})})}),Ce&&Object(J.jsx)(h.a.Item,{name:"content",label:"\ub0b4\uc6a9",style:{marginTop:20},initialValue:"",rules:[{required:!0}],children:Object(J.jsx)(Y,{modules:E,formats:T,value:P||"",onChange:function(e){_(e)},theme:"snow"})}),Object(J.jsx)(h.a.Item,{wrapperCol:Object(r.a)(Object(r.a)({},D.wrapperCol),{},{offset:8}),children:Object(J.jsx)(k.a,{type:"primary",htmlType:"submit",disabled:0!==Ee,children:Ve?"Uploading...":Ee<=0?"\uc62c\ub9ac\uae30":Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(F.a,{})," \uc774\ubbf8\uc9c0 / \ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911\uc785\ub2c8\ub2e4..."]})})})]}))})},Object(O.a)(U.a)(a||(a=Object(c.a)(["\n  background-color: white;\n  .ql-container {\n    min-height: 300px;\n  }\n"]))))}}]);
//# sourceMappingURL=25.f7094a1d.chunk.js.map