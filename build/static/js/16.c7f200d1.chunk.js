(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[16],{107:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var i,r=n(1);!function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"}(i||(i={}));var o=new Map;function a(t){var e;switch(t){case i.Query:e="Query";break;case i.Mutation:e="Mutation";break;case i.Subscription:e="Subscription"}return e}function c(t){var e,n,a=o.get(t);if(a)return a;__DEV__?Object(r.b)(!!t&&!!t.kind,"Argument of "+t+" passed to parser was not a valid GraphQL DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):Object(r.b)(!!t&&!!t.kind,34);var c=t.definitions.filter((function(t){return"FragmentDefinition"===t.kind})),u=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"query"===t.operation})),l=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation})),s=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"subscription"===t.operation}));__DEV__?Object(r.b)(!c.length||u.length||l.length||s.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):Object(r.b)(!c.length||u.length||l.length||s.length,35),__DEV__?Object(r.b)(u.length+l.length+s.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+t+" had "+u.length+" queries, "+s.length+" subscriptions and "+l.length+" mutations. You can use 'compose' to join multiple operation types to a component"):Object(r.b)(u.length+l.length+s.length<=1,36),n=u.length?i.Query:i.Mutation,u.length||l.length||(n=i.Subscription);var d=u.length?u:l.length?l:s;__DEV__?Object(r.b)(1===d.length,"react-apollo only supports one definition per HOC. "+t+" had "+d.length+" definitions. You can use 'compose' to join multiple operation types to a component"):Object(r.b)(1===d.length,37);var p=d[0];e=p.variableDefinitions||[];var f={name:p.name&&"Name"===p.name.kind?p.name.value:"data",type:n,variables:e};return o.set(t,f),f}},108:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"k",(function(){return j})),n.d(e,"e",(function(){return y})),n.d(e,"i",(function(){return v})),n.d(e,"f",(function(){return $})),n.d(e,"g",(function(){return x})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return M})),n.d(e,"d",(function(){return S})),n.d(e,"h",(function(){return I})),n.d(e,"j",(function(){return w}));var i,r,o,a,c,u,l,s,d,p,f,b,g,h=n(101),m=n(440),O=Object(m.a)(i||(i=Object(h.a)(["\n  mutation createBoard(\n    $title: String\n    $content: String\n    $category: String!\n    $files: [AttachModel]\n    $images: [AttachModel]\n    $link: String\n  ) {\n    createBoard(\n      title: $title\n      content: $content\n      category: $category\n      files: $files\n      images: $images\n      link: $link\n    ) {\n      ok\n      err\n    }\n  }\n"]))),j=Object(m.a)(r||(r=Object(h.a)(["\n  query getBoardByCategory($category: String!) {\n    getBoardByCategory(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),y=Object(m.a)(o||(o=Object(h.a)(["\n  mutation deleteBoard($id: Int!) {\n    deleteBoard(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),v=Object(m.a)(a||(a=Object(h.a)(["\n  mutation editBoard(\n    $id: Int!\n    $title: String\n    $content: String\n    $link: String\n  ) {\n    editBoard(id: $id, title: $title, content: $content, link: $link) {\n      ok\n      err\n    }\n  }\n"]))),$=(Object(m.a)(c||(c=Object(h.a)(["\n  mutation editFile($id: Int!, $url: String!, $fileName: String!) {\n    editFile(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(m.a)(u||(u=Object(h.a)(["\n  mutation editImage($id: Int!, $url: String!, $fileName: String!) {\n    editImage(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(m.a)(l||(l=Object(h.a)(["\n  mutation deleteFile($id: Int!) {\n    deleteFile(id: $id) {\n      ok\n      err\n    }\n  }\n"])))),x=Object(m.a)(s||(s=Object(h.a)(["\n  mutation deleteImage($id: Int!) {\n    deleteImage(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),k=Object(m.a)(d||(d=Object(h.a)(["\n  mutation createFile($url: String!, $fileName: String!, $boardId: Int!) {\n    createFile(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),M=Object(m.a)(p||(p=Object(h.a)(["\n  mutation createImage($url: String!, $fileName: String!, $boardId: Int!) {\n    createImage(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),S=Object(m.a)(f||(f=Object(h.a)(["\n  mutation createLink($title: String!, $url: String!) {\n    createLink(title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),I=Object(m.a)(b||(b=Object(h.a)(["\n  mutation deleteLink($id: Int!) {\n    deleteLink(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),w=Object(m.a)(g||(g=Object(h.a)(["\n  mutation editLink($id: Int!, $title: String, $url: String) {\n    editLink(id: $id, title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"])))},114:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(1),r=n(7),o=n(107),a=function(){function t(t,e){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=t||{},this.context=e||{}}return t.prototype.getOptions=function(){return this.options},t.prototype.setOptions=function(t,e){void 0===e&&(e=!1),e&&!Object(r.a)(this.options,t)&&(this.previousOptions=this.options),this.options=t},t.prototype.unmount=function(){this.isMounted=!1},t.prototype.refreshClient=function(){var t=this.options&&this.options.client||this.context&&this.context.client;__DEV__?Object(i.b)(!!t,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):Object(i.b)(!!t,29);var e=!1;return t!==this.client&&(e=!0,this.client=t,this.cleanup()),{client:this.client,isNew:e}},t.prototype.verifyDocumentType=function(t,e){var n=Object(o.c)(t),r=Object(o.b)(e),a=Object(o.b)(n.type);__DEV__?Object(i.b)(n.type===e,"Running a "+r+" requires a graphql "+r+", but a "+a+" was used instead."):Object(i.b)(n.type===e,30)},t}()},127:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){var e=new Date(1e3*Math.floor(parseInt(t,10)/1e3));return e.getFullYear()+"-"+(e.getMonth()+1>=10?e.getMonth()+1:"0".concat(e.getMonth()+1))+"-"+(e.getDate()>=10?e.getDate():"0".concat(e.getDate()))}},133:function(t,e,n){"use strict";var i=n(93),r=n(2),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},a=n(97),c=function(t,e){return r.createElement(a.a,Object(i.a)(Object(i.a)({},t),{},{ref:e,icon:o}))};c.displayName="CloseOutlined";e.a=r.forwardRef(c)},139:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(95),r=n(2);function o(){var t=r.useReducer((function(t){return t+1}),0);return Object(i.a)(t,2)[1]}},193:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(2),o=n(7),a=n(107),c=n(27),u=n(114),l=n(82),s=function(t){function e(e){var n=e.options,i=e.context,r=e.result,o=e.setResult,c=t.call(this,n,i)||this;return c.runMutation=function(t){void 0===t&&(t={}),c.onMutationStart();var e=c.generateNewMutationId();return c.mutate(t).then((function(t){return c.onMutationCompleted(t,e),t})).catch((function(t){var n=c.getOptions().onError;if(c.onMutationError(t,e),n)return n(t),{data:void 0,errors:t};throw t}))},c.verifyDocumentType(n.mutation,a.a.Mutation),c.result=r,c.setResult=o,c.mostRecentMutationId=0,c}return Object(i.c)(e,t),e.prototype.execute=function(t){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,a.a.Mutation),[this.runMutation,Object(i.a)(Object(i.a)({},t),{client:this.refreshClient().client})]},e.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},e.prototype.cleanup=function(){},e.prototype.mutate=function(t){return this.refreshClient().client.mutate(Object(l.b)(this.getOptions(),t))},e.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},e.prototype.onMutationCompleted=function(t,e){var n=this.getOptions(),i=n.onCompleted,r=n.ignoreResults,o=t.data,a=t.errors,u=a&&a.length>0?new c.a({graphQLErrors:a}):void 0;this.isMostRecentMutation(e)&&!r&&this.updateResult({called:!0,loading:!1,data:o,error:u}),i&&i(o)},e.prototype.onMutationError=function(t,e){this.isMostRecentMutation(e)&&this.updateResult({loading:!1,error:t,data:void 0,called:!0})},e.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},e.prototype.isMostRecentMutation=function(t){return this.mostRecentMutationId===t},e.prototype.updateResult=function(t){if(this.isMounted&&(!this.previousResult||!Object(o.a)(this.previousResult,t)))return this.setResult(t),this.previousResult=t,t},e}(u.a),d=n(63);function p(t,e){var n=Object(r.useContext)(Object(d.a)()),o=Object(r.useState)({called:!1,loading:!1}),a=o[0],c=o[1],u=e?Object(i.a)(Object(i.a)({},e),{mutation:t}):{mutation:t},l=Object(r.useRef)();var p=(l.current||(l.current=new s({options:u,context:n,result:a,setResult:c})),l.current);return p.setOptions(u),p.context=n,Object(r.useEffect)((function(){return p.afterExecute()})),p.execute(a)}},428:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(8),r=n(94),o=n(95),a=n(2),c=n(92),u=n.n(c),l=n(130),s=n(169);function d(t){var e=t.className,n=t.direction,o=t.index,c=t.marginDirection,u=t.children,l=t.split,s=t.wrap,d=a.useContext(b),p=d.horizontalSize,f=d.verticalSize,g=d.latestIndex,h={};return d.supportFlexGap||("vertical"===n?o<g&&(h={marginBottom:p/(l?2:1)}):h=Object(i.a)(Object(i.a)({},o<g&&Object(r.a)({},c,p/(l?2:1))),s&&{paddingBottom:f})),null===u||void 0===u?null:a.createElement(a.Fragment,null,a.createElement("div",{className:e,style:h},u),o<g&&l&&a.createElement("span",{className:"".concat(e,"-split"),style:h},l))}var p=n(205),f=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},b=a.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),g={small:8,middle:16,large:24};e.b=function(t){var e,n=a.useContext(s.b),c=n.getPrefixCls,h=n.space,m=n.direction,O=t.size,j=void 0===O?(null===h||void 0===h?void 0:h.size)||"small":O,y=t.align,v=t.className,$=t.children,x=t.direction,k=void 0===x?"horizontal":x,M=t.prefixCls,S=t.split,I=t.style,w=t.wrap,N=void 0!==w&&w,C=f(t,["size","align","className","children","direction","prefixCls","split","style","wrap"]),E=Object(p.a)(),R=a.useMemo((function(){return(Array.isArray(j)?j:[j,j]).map((function(t){return function(t){return"string"===typeof t?g[t]:t||0}(t)}))}),[j]),_=Object(o.a)(R,2),B=_[0],D=_[1],z=Object(l.a)($,{keepEmpty:!0}),A=void 0===y&&"horizontal"===k?"center":y,F=c("space",M),L=u()(F,"".concat(F,"-").concat(k),(e={},Object(r.a)(e,"".concat(F,"-rtl"),"rtl"===m),Object(r.a)(e,"".concat(F,"-align-").concat(A),A),e),v),q="".concat(F,"-item"),P="rtl"===m?"marginLeft":"marginRight",Q=0,G=z.map((function(t,e){return null!==t&&void 0!==t&&(Q=e),a.createElement(d,{className:q,key:"".concat(q,"-").concat(e),direction:k,index:e,marginDirection:P,split:S,wrap:N},t)})),V=a.useMemo((function(){return{horizontalSize:B,verticalSize:D,latestIndex:Q,supportFlexGap:E}}),[B,D,Q,E]);if(0===z.length)return null;var Y={};return N&&(Y.flexWrap="wrap",E||(Y.marginBottom=-D)),E&&(Y.columnGap=B,Y.rowGap=D),a.createElement("div",Object(i.a)({className:L,style:Object(i.a)(Object(i.a)({},Y),I)},C),a.createElement(b.Provider,{value:V},G))}},444:function(t,e,n){"use strict";n.r(e);var i=n(109),r=n(116);var o,a=n(193),c=n(189),u=n(434),l=n(428),s=n(218),d=n.n(s),p=n(2),f=n(5),b=n(53),g=n(52),h=n(108),m=n(127),O=n(101),j=n(110).a.div(o||(o=Object(O.a)([""]))),y=n(13);e.default=function(){var t,e,n=Object(f.i)(),o=n.param,s=n.subparam,O=Object(f.h)().state,v=Object(p.useState)(),$=Object(i.a)(v,2),x=$[0],k=$[1],M=(t=h.k,Object(r.a)(t,e,!0)),S=Object(i.a)(M,2),I=S[0],w=S[1],N=w.loading,C=w.data,E=w.refetch,R=Object(a.a)(h.e,{onCompleted:function(t){var e=t.deleteBoard,n=e.ok,i=e.err;n?(g.b.success("\uac8c\uc2dc\ubb3c\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),E&&E()):g.b.error(i)}}),_=Object(i.a)(R,1)[0];return Object(p.useEffect)((function(){I({variables:{category:s}})}),[I,s]),Object(p.useEffect)((function(){var t=function(){E&&E()};return O&&O.refresh&&t(),function(){return t()}}),[E,O]),Object(p.useEffect)((function(){if(C&&C.getBoardByCategory&&C.getBoardByCategory.data){var t=C.getBoardByCategory.data,e=[];t.map((function(n,i){var r={id:n.id,index:t.length-i,title:n.title,createdAt:Object(m.a)(n.createdAt||""),category:n.category};return e.push(r)})),k(e)}}),[C]),N?Object(y.jsx)(y.Fragment,{children:"loading"}):Object(y.jsxs)(j,{children:[Object(y.jsx)(b.b,{to:"/admin/".concat(o,"/create-").concat(o,"?category=").concat(s,"&param=").concat(o,"&subparam=").concat(s),children:Object(y.jsx)(c.a,{type:"primary",style:{marginTop:15,marginBottom:20},children:"\uae00\uc4f0\uae30"})}),Object(y.jsxs)(u.a,{dataSource:x,rowKey:"id",children:[Object(y.jsx)(d.a,{title:"\ubc88\ud638",dataIndex:"index",width:80},"index"),Object(y.jsx)(d.a,{title:"\uc81c\ubaa9",dataIndex:"title",ellipsis:!0,render:function(t,e){return Object(y.jsx)(l.b,{children:Object(y.jsx)(b.b,{to:"/admin/".concat(o,"/detail-").concat(o,"?category=").concat(s,"&id=").concat(e.id),children:t})})}},"title"),Object(y.jsx)(d.a,{title:"\uc791\uc131\uc77c",dataIndex:"createdAt",width:150},"createdAt"),Object(y.jsx)(d.a,{title:"Action",width:150,render:function(t,e){return Object(y.jsx)(l.b,{size:"middle",children:Object(y.jsx)(c.a,{type:"primary",danger:!0,onClick:function(){return _({variables:{id:e.id}})},children:"\uc0ad\uc81c"})})}},"action")]})]})}}}]);
//# sourceMappingURL=16.c7f200d1.chunk.js.map