(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[15],{103:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"k",(function(){return h})),n.d(e,"e",(function(){return v})),n.d(e,"i",(function(){return y})),n.d(e,"f",(function(){return $})),n.d(e,"g",(function(){return k})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return w})),n.d(e,"h",(function(){return I})),n.d(e,"j",(function(){return E}));var r,i,a,o,c,l,u,d,s,b,f,p,g,m=n(95),j=n(417),O=Object(j.a)(r||(r=Object(m.a)(["\n  mutation createBoard(\n    $title: String\n    $content: String\n    $category: String!\n    $files: [AttachModel]\n    $images: [AttachModel]\n    $link: String\n  ) {\n    createBoard(\n      title: $title\n      content: $content\n      category: $category\n      files: $files\n      images: $images\n      link: $link\n    ) {\n      ok\n      err\n    }\n  }\n"]))),h=Object(j.a)(i||(i=Object(m.a)(["\n  query getBoardByCategory($category: String!) {\n    getBoardByCategory(category: $category) {\n      ok\n      err\n      data {\n        id\n        title\n        content\n        category\n        files {\n          id\n          url\n          fileName\n        }\n        images {\n          id\n          url\n          fileName\n        }\n        link\n        createdAt\n        updatedAt\n        deleteAt\n      }\n    }\n  }\n"]))),v=Object(j.a)(a||(a=Object(m.a)(["\n  mutation deleteBoard($id: Int!) {\n    deleteBoard(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),y=Object(j.a)(o||(o=Object(m.a)(["\n  mutation editBoard(\n    $id: Int!\n    $title: String\n    $content: String\n    $link: String\n  ) {\n    editBoard(id: $id, title: $title, content: $content, link: $link) {\n      ok\n      err\n    }\n  }\n"]))),$=(Object(j.a)(c||(c=Object(m.a)(["\n  mutation editFile($id: Int!, $url: String!, $fileName: String!) {\n    editFile(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(j.a)(l||(l=Object(m.a)(["\n  mutation editImage($id: Int!, $url: String!, $fileName: String!) {\n    editImage(id: $id, url: $url, fileName: $fileName) {\n      ok\n      err\n    }\n  }\n"]))),Object(j.a)(u||(u=Object(m.a)(["\n  mutation deleteFile($id: Int!) {\n    deleteFile(id: $id) {\n      ok\n      err\n    }\n  }\n"])))),k=Object(j.a)(d||(d=Object(m.a)(["\n  mutation deleteImage($id: Int!) {\n    deleteImage(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),x=Object(j.a)(s||(s=Object(m.a)(["\n  mutation createFile($url: String!, $fileName: String!, $boardId: Int!) {\n    createFile(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),S=Object(j.a)(b||(b=Object(m.a)(["\n  mutation createImage($url: String!, $fileName: String!, $boardId: Int!) {\n    createImage(url: $url, fileName: $fileName, boardId: $boardId) {\n      ok\n      err\n    }\n  }\n"]))),w=Object(j.a)(f||(f=Object(m.a)(["\n  mutation createLink($title: String!, $url: String!) {\n    createLink(title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"]))),I=Object(j.a)(p||(p=Object(m.a)(["\n  mutation deleteLink($id: Int!) {\n    deleteLink(id: $id) {\n      ok\n      err\n    }\n  }\n"]))),E=Object(j.a)(g||(g=Object(m.a)(["\n  mutation editLink($id: Int!, $title: String, $url: String) {\n    editLink(id: $id, title: $title, url: $url) {\n      ok\n      err\n    }\n  }\n"])))},107:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=n(2),a=n(55);function o(t){var e=Object(i.useContext)(Object(a.a)()),n=t||e.client;return __DEV__?Object(r.b)(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClientApolloClient instance in via options.'):Object(r.b)(!!n,29),n}},108:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c}));var r,i=n(1);!function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"}(r||(r={}));var a=new Map;function o(t){var e;switch(t){case r.Query:e="Query";break;case r.Mutation:e="Mutation";break;case r.Subscription:e="Subscription"}return e}function c(t,e){var n=function(t){var e,n,o=a.get(t);if(o)return o;__DEV__?Object(i.b)(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):Object(i.b)(!!t&&!!t.kind,30);var c=t.definitions.filter((function(t){return"FragmentDefinition"===t.kind})),l=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"query"===t.operation})),u=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation})),d=t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&"subscription"===t.operation}));__DEV__?Object(i.b)(!c.length||l.length||u.length||d.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):Object(i.b)(!c.length||l.length||u.length||d.length,31),__DEV__?Object(i.b)(l.length+u.length+d.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(l.length," queries, ").concat(d.length," ")+"subscriptions and ".concat(u.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):Object(i.b)(l.length+u.length+d.length<=1,32),n=l.length?r.Query:r.Mutation,l.length||u.length||(n=r.Subscription);var s=l.length?l:u.length?u:d;__DEV__?Object(i.b)(1===s.length,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(s.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):Object(i.b)(1===s.length,33);var b=s[0];e=b.variableDefinitions||[];var f={name:b.name&&"Name"===b.name.kind?b.name.value:"data",type:n,variables:e};return a.set(t,f),f}(t),c=o(e),l=o(n.type);__DEV__?Object(i.b)(n.type===e,"Running a ".concat(c," requires a graphql ")+"".concat(c,", but a ").concat(l," was used instead.")):Object(i.b)(n.type===e,34)}},121:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){var e=new Date(1e3*Math.floor(parseInt(t,10)/1e3));return e.getFullYear()+"-"+(e.getMonth()+1>=10?e.getMonth()+1:"0".concat(e.getMonth()+1))+"-"+(e.getDate()>=10?e.getDate():"0".concat(e.getDate()))}},127:function(t,e,n){"use strict";var r=n(87),i=n(2),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},o=n(91),c=function(t,e){return i.createElement(o.a,Object(r.a)(Object(r.a)({},t),{},{ref:e,icon:a}))};c.displayName="CloseOutlined";e.a=i.forwardRef(c)},134:function(t,e,n){"use strict";var r;function i(t){if("undefined"===typeof document)return 0;if(t||void 0===r){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var a=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;a===o&&(o=n.clientWidth),document.body.removeChild(n),r=a-o}return r}function a(t){var e=t.match(/^(.*)px$/),n=Number(null===e||void 0===e?void 0:e[1]);return Number.isNaN(n)?i():n}function o(t){if("undefined"===typeof document||!t||!(t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),n=e.width,r=e.height;return{width:a(n),height:a(r)}}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}))},139:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(89),i=n(2);function a(){var t=i.useReducer((function(t){return t+1}),0);return Object(r.a)(t,2)[1]}},163:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(0),i=n(2),a=n(74),o=n(5),c=n(108),l=n(21),u=n(107);function d(t,e){var n=Object(u.a)(null===e||void 0===e?void 0:e.client);Object(c.b)(t,c.a.Mutation);var d=Object(i.useState)({called:!1,loading:!1,client:n}),s=d[0],b=d[1],f=Object(i.useRef)({result:s,mutationId:0,isMounted:!0,client:n,mutation:t,options:e});Object.assign(f.current,{client:n,options:e,mutation:t});var p=Object(i.useCallback)((function(t){void 0===t&&(t={});var e=f.current,n=e.client,i=e.options,c=e.mutation,u=Object(r.a)(Object(r.a)({},i),{mutation:c});f.current.result.loading||u.ignoreResults||b(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:n});var d=++f.current.mutationId,s=Object(a.b)(u,t);return n.mutate(s).then((function(e){var r,i,a=e.data,c=e.errors,p=c&&c.length>0?new l.a({graphQLErrors:c}):void 0;if(d===f.current.mutationId&&!s.ignoreResults){var g={called:!0,loading:!1,data:a,error:p,client:n};f.current.isMounted&&!Object(o.a)(f.current.result,g)&&b(f.current.result=g)}return null===(r=u.onCompleted)||void 0===r||r.call(u,e.data),null===(i=t.onCompleted)||void 0===i||i.call(t,e.data),e})).catch((function(e){var r,i;if(d===f.current.mutationId&&f.current.isMounted){var a={loading:!1,error:e,data:void 0,called:!0,client:n};Object(o.a)(f.current.result,a)||b(f.current.result=a)}if(u.onError||s.onError)return null===(r=u.onError)||void 0===r||r.call(u,e),null===(i=t.onError)||void 0===i||i.call(t,e),{data:void 0,errors:e};throw e}))}),[]),g=Object(i.useCallback)((function(){b({called:!1,loading:!1,client:n})}),[]);return Object(i.useEffect)((function(){return function(){f.current.isMounted=!1}}),[]),[p,Object(r.a)({reset:g},s)]}},405:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(6),i=n(88),a=n(89),o=n(2),c=n(86),l=n.n(c),u=n(109),d=n(156);function s(t){var e=t.className,n=t.direction,a=t.index,c=t.marginDirection,l=t.children,u=t.split,d=t.wrap,s=o.useContext(p),b=s.horizontalSize,f=s.verticalSize,g=s.latestIndex,m={};return s.supportFlexGap||("vertical"===n?a<g&&(m={marginBottom:b/(u?2:1)}):m=Object(r.a)(Object(r.a)({},a<g&&Object(i.a)({},c,b/(u?2:1))),d&&{paddingBottom:f})),null===l||void 0===l?null:o.createElement(o.Fragment,null,o.createElement("div",{className:e,style:m},l),a<g&&u&&o.createElement("span",{className:"".concat(e,"-split"),style:m},u))}var b=n(187),f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},p=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),g={small:8,middle:16,large:24};e.b=function(t){var e,n=o.useContext(d.b),c=n.getPrefixCls,m=n.space,j=n.direction,O=t.size,h=void 0===O?(null===m||void 0===m?void 0:m.size)||"small":O,v=t.align,y=t.className,$=t.children,k=t.direction,x=void 0===k?"horizontal":k,S=t.prefixCls,w=t.split,I=t.style,E=t.wrap,C=void 0!==E&&E,N=f(t,["size","align","className","children","direction","prefixCls","split","style","wrap"]),_=Object(b.a)(),B=o.useMemo((function(){return(Array.isArray(h)?h:[h,h]).map((function(t){return function(t){return"string"===typeof t?g[t]:t||0}(t)}))}),[h]),M=Object(a.a)(B,2),D=M[0],A=M[1],z=Object(u.a)($,{keepEmpty:!0}),F=void 0===v&&"horizontal"===x?"center":v,L=c("space",S),P=l()(L,"".concat(L,"-").concat(x),(e={},Object(i.a)(e,"".concat(L,"-rtl"),"rtl"===j),Object(i.a)(e,"".concat(L,"-align-").concat(F),F),e),y),q="".concat(L,"-item"),Q="rtl"===j?"marginLeft":"marginRight",R=0,G=z.map((function(t,e){return null!==t&&void 0!==t&&(R=e),o.createElement(s,{className:q,key:"".concat(q,"-").concat(e),direction:x,index:e,marginDirection:Q,split:w,wrap:C},t)})),V=o.useMemo((function(){return{horizontalSize:D,verticalSize:A,latestIndex:R,supportFlexGap:_}}),[D,A,R,_]);if(0===z.length)return null;var W={};return C&&(W.flexWrap="wrap",_||(W.marginBottom=-A)),_&&(W.columnGap=D,W.rowGap=A),o.createElement("div",Object(r.a)({className:P,style:Object(r.a)(Object(r.a)({},W),I)},N),o.createElement(p.Provider,{value:V},G))}},421:function(t,e,n){"use strict";n.r(e);var r=n(89),i=n(0),a=n(2),o=n(130),c=["refetch","fetchMore","updateQuery","startPolling","subscribeToMore"];var l,u=n(163),d=n(175),s=n(411),b=n(405),f=n(201),p=n.n(f),g=n(4),m=n(45),j=n(44),O=n(103),h=n(121),v=n(95),y=n(104).a.div(l||(l=Object(v.a)([""]))),$=n(11);e.default=function(){var t=Object(g.i)(),e=t.param,n=t.subparam,l=Object(g.h)().state,f=Object(a.useState)(),v=Object(r.a)(f,2),k=v[0],x=v[1],S=function(t,e){var n=Object(a.useState)({called:!1,resolves:[]}),r=n[0],l=n[1],u=Object(a.useCallback)((function(t){var e,n=new Promise((function(t){return e=t}));return l((function(n){return n.called&&d&&d.refetch(null===t||void 0===t?void 0:t.variables),{called:!0,resolves:Object(i.g)(Object(i.g)([],n.resolves,!0),[e],!1),options:t}})),n}),[]),d=Object(o.a)(t,Object(i.a)(Object(i.a)(Object(i.a)({},e),r.options),{fetchPolicy:r.called?null===e||void 0===e?void 0:e.fetchPolicy:"standby",skip:void 0}));if(Object(a.useEffect)((function(){var t=r.resolves;!d.loading&&t.length&&(l((function(t){return Object(i.a)(Object(i.a)({},t),{resolves:[]})})),t.forEach((function(t){return t(d)})))}),[d,r]),!r.called){d=Object(i.a)(Object(i.a)({},d),{loading:!1,data:void 0,error:void 0,called:!1});for(var s=function(t){var e=d[t];d[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return l((function(t){return Object(i.a)(Object(i.a)({},t),{called:!0})})),e.apply(void 0,t)}},b=0,f=c;b<f.length;b++)s(f[b])}return[u,d]}(O.k),w=Object(r.a)(S,2),I=w[0],E=w[1],C=E.loading,N=E.data,_=E.refetch,B=Object(u.a)(O.e,{onCompleted:function(t){var e=t.deleteBoard,n=e.ok,r=e.err;n?(j.b.success("\uac8c\uc2dc\ubb3c\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),_&&_()):j.b.error(r)}}),M=Object(r.a)(B,1)[0];return Object(a.useEffect)((function(){I({variables:{category:n}})}),[I,n]),Object(a.useEffect)((function(){var t=function(){_&&_()};return l&&l.refresh&&t(),function(){return t()}}),[_,l]),Object(a.useEffect)((function(){if(N&&N.getBoardByCategory&&N.getBoardByCategory.data){var t=N.getBoardByCategory.data,e=[];t.map((function(n,r){var i={id:n.id,index:t.length-r,title:n.title,createdAt:Object(h.a)(n.createdAt||""),category:n.category};return e.push(i)})),x(e)}}),[N]),C?Object($.jsx)($.Fragment,{children:"loading"}):Object($.jsxs)(y,{children:[Object($.jsx)(m.b,{to:"/admin/".concat(e,"/create-").concat(e,"?category=").concat(n,"&param=").concat(e,"&subparam=").concat(n),children:Object($.jsx)(d.a,{type:"primary",style:{marginTop:15,marginBottom:20},children:"\uae00\uc4f0\uae30"})}),Object($.jsxs)(s.a,{dataSource:k,rowKey:"id",children:[Object($.jsx)(p.a,{title:"\ubc88\ud638",dataIndex:"index",width:80},"index"),Object($.jsx)(p.a,{title:"\uc81c\ubaa9",dataIndex:"title",ellipsis:!0,render:function(t,r){return Object($.jsx)(b.b,{children:Object($.jsx)(m.b,{to:"/admin/".concat(e,"/detail-").concat(e,"?category=").concat(n,"&id=").concat(r.id),children:t})})}},"title"),Object($.jsx)(p.a,{title:"\uc791\uc131\uc77c",dataIndex:"createdAt",width:150},"createdAt"),Object($.jsx)(p.a,{title:"Action",width:150,render:function(t,e){return Object($.jsx)(b.b,{size:"middle",children:Object($.jsx)(d.a,{type:"primary",danger:!0,onClick:function(){return M({variables:{id:e.id}})},children:"\uc0ad\uc81c"})})}},"action")]})]})}}}]);
//# sourceMappingURL=15.3c286233.chunk.js.map